import{_ as N,j as b,k as y,l as m,d as $,y as Ze,r as w,n as Me,z as Se,u as Le,A as j,m as I,B as x,C as J,D as V,F as Ee,E as Ge,G as X,t as U,v as Ne,x as Ie,H as $e,I as Z,J as Te,K as De,o as Qe,L as Ke,M as le}from"./entry.3fa6a467.js";import{u as We}from"./vue.f36acd1f.ffaa92ea.js";const Ye={},Je={width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"},Xe=m("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"},null,-1),en=[Xe];function nn(e,n){return b(),y("svg",Je,en)}const rn=N(Ye,[["render",nn]]),on={},ln={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},tn=m("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"},null,-1),cn=m("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"},null,-1),sn=[tn,cn];function un(e,n){return b(),y("svg",ln,sn)}const fn=N(on,[["render",un]]),an={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-double-right",viewBox:"0 0 16 16"},pn=m("path",{"fill-rule":"evenodd",d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"},null,-1),hn=m("path",{"fill-rule":"evenodd",d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"},null,-1),dn=[pn,hn],_n={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-double-left",viewBox:"0 0 16 16"},vn=m("path",{"fill-rule":"evenodd",d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1),gn=m("path",{"fill-rule":"evenodd",d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1),kn=[vn,gn],xn=$({__name:"Menu",props:{variant:{}},setup(e){return(n,r)=>n.variant==="open"?(b(),y("svg",an,dn)):(b(),y("svg",_n,kn))}}),z=()=>{const e=new Promise((c,t)=>{const s=indexedDB.open("mdNotes",1);s.onupgradeneeded=u=>{var a;((a=u.target)==null?void 0:a.result).createObjectStore("mdNotes",{keyPath:"id"})},s.onsuccess=u=>{c(u.target.result)},s.onerror=u=>{t(u.target.error)}});return{getNotes:async()=>{const s=(await e).transaction("mdNotes","readonly").objectStore("mdNotes");return new Promise((u,f)=>{const a=s.getAll();a.onsuccess=p=>{const h=p.target.result;(()=>{h.length&&h.sort((_,v)=>new Date(v.updated).getTime()-new Date(_.updated).getTime()),u(h)})()},a.onerror=p=>{f(p.target.error)}})},getNote:async c=>{const u=(await e).transaction("mdNotes","readonly").objectStore("mdNotes");return new Promise((f,a)=>{const p=u.get(c);p.onsuccess=h=>{f(h.target.result)},p.onerror=h=>{a(h.target.error)}})},saveNote:async c=>{const u=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((f,a)=>{const p=u.put(c);p.onsuccess=()=>{f()},p.onerror=h=>{a(h.target.error)}})},addNote:async c=>{const u=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((f,a)=>{const p=u.add(c);p.onsuccess=()=>{f()},p.onerror=h=>{a(h.target.error)}})},deleteNote:async c=>{const u=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((f,a)=>{const p=u.delete(c);p.onsuccess=()=>{f()},p.onerror=h=>{a(h.target.error)}})}}},ze=(e,n="onlyTime")=>{const r=new Date(e),i={hour:"2-digit",minute:"2-digit"};n==="fullDate"&&(i.second="2-digit");const o=r.toLocaleTimeString([],i);if(n==="onlyTime")return`${o}`;if(n==="fullDate"){const l=r.toLocaleString("default",{year:"numeric"}),c=r.toLocaleString("default",{month:"2-digit"}),t=r.toLocaleString("default",{day:"2-digit"});return`${l}/${c}/${t} ${o}`}},fe=(e,n)=>e.length<=n?e:e.substring(0,n)+"...",mn=e=>{var l,c;const n=/#\s+(.+)/g,r=[];let i;for(;(i=n.exec(e))!==null;)r.push(i[1]);return((l=e[0])==null?void 0:l.trim().includes("#"))?fe(r[0],20).trim():(c=fe(e,20))==null?void 0:c.trim()};var R=(e=>(e.toggleDeleteModal="toggle-delete-modal",e.toggleMenu="toggle-menu",e.addNewNote="add-new-note",e.newNote="New Note",e))(R||{});const M=Ze("store",()=>{const e=w(R.newNote),n=w(""),r=w(""),i=w(!1),o=w([]),l=w(""),c=w(""),t=_=>{const v=o.value.find(g=>g.id===_);v&&(l.value=v.id,e.value=v.title,n.value=v.content,c.value=v.updated)},s=async _=>{await Me({path:"/",query:_?{note:_}:{}})},u=async()=>{const{getNotes:_}=z();o.value=await _()},f=async _=>{_=_.toLowerCase().trim();const{getNotes:v}=z(),g=await v();o.value=g.filter(A=>(A.title.toLowerCase().includes(_)||A.content.toLowerCase().includes(_))&&A)},a=async()=>{const{saveNote:_,getNotes:v}=z(),g=o.value.find(D=>D.id===k()),A={id:"",title:mn(n.value)||e.value,content:n.value,created:new Date().toISOString(),updated:new Date().toISOString()};g&&(A.id=g.id,A.created=g.created,await _(A)),o.value=await v()},p=async()=>{const{addNote:_,getNotes:v}=z(),g={id:window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16),title:R.newNote,content:" ",created:new Date().toISOString(),updated:new Date().toISOString()};await _(g),o.value=await v(),t(g.id),await s(g.id)},h=()=>o.value&&o.value.length>0,k=()=>Se().query.note;return{rawText:n,parsedText:r,noteTitle:e,isPreviewActive:i,currentNoteId:l,currentNoteUpdateDate:c,notes:o,saveNote:a,createNote:p,setCurrentNote:t,navigateCurrentNote:s,getNotesLength:h,getQueryId:k,initStoreNotes:u,searchNotes:f}}),bn=()=>Le().$device,yn=e=>(Ne("data-v-8f033298"),e=e(),Ie(),e),Cn={class:"d-flex"},An={class:"up d-flex align-items-start flex-column"},wn={class:"d-flex gap-4"},Mn={key:0,class:"notes__list d-flex flex-column"},Sn=["onClick"],En={class:"notes__list-note-info d-flex flex-column gap-3"},Nn={class:"notes__list-note-info-name weight-500 text-overflow-ellipsis"},In={class:"d-flex"},$n={class:"notes__list-note-info-date weight-400 text-overflow-ellipsis"},Tn={class:"notes__list-note-info-date weight-300 text-overflow-ellipsis"},Dn={key:0,class:"d-flex emty"},zn=yn(()=>m("span",null,"No notes",-1)),Rn=[zn],Bn=$({__name:"SidebarComponent",props:{isLoadData:Boolean},setup(e,{emit:n}){const r=e,{getNotesLength:i,getQueryId:o}=M(),{isMobile:l}=bn(),{setCurrentNote:c,navigateCurrentNote:t,createNote:s}=M(),{notes:u,rawText:f,currentNoteId:a}=j(M()),p=()=>{if(f.value||a.value)return n(R.toggleDeleteModal,!0)},h=async()=>(await s(),n(R.addNewNote,!1)),k=w(!0),_=v=>k.value=v;return k.value=!l,(v,g)=>{const A=rn,D=fn,H=xn;return b(),y("div",Cn,[m("div",{class:X(["sidebar d-flex align-items-start flex-column transition",{hidden:!x(k),open:x(k)}])},[m("div",An,[m("div",wn,[I(A,{class:"cursor-pointer",onClick:g[0]||(g[0]=E=>h())}),x(o)()&&x(i)()?(b(),J(D,{key:0,class:"cursor-pointer",onClick:p})):V("",!0)]),x(i)()?(b(),y("ul",Mn,[(b(!0),y(Ee,null,Ge(x(u),E=>(b(),y("li",{key:E.id,class:X([x(o)()===E.id?"active":"","notes__list-note d-flex align-items-center gap-6"]),onClick:re=>{x(c)(E.id),x(t)(E.id)}},[m("div",En,[m("span",Nn,U(E.title),1),m("div",In,[m("span",$n,U(("formatDate"in v?v.formatDate:x(ze))(E.updated))+" Â  ",1),m("span",Tn,U(("truncateText"in v?v.truncateText:x(fe))(E.content,20)),1)])])],10,Sn))),128))])):V("",!0)]),r.isLoadData&&!x(i)()?(b(),y("div",Dn,Rn)):V("",!0)],2),m("button",{class:"menu",onClick:g[1]||(g[1]=E=>_(!x(k)))},[I(H,{variant:x(k)?"close":"open"},null,8,["variant"])])])}}});const Pn=N(Bn,[["__scopeId","data-v-8f033298"]]),On={},qn={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-markdown-fill",viewBox:"0 0 16 16"},Fn=m("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11.5 1a.5.5 0 0 0-.5.5v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-.5-.5zM3.56 7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06V7.01z"},null,-1),jn=[Fn];function Hn(e,n){return b(),y("svg",qn,jn)}const Vn=N(On,[["render",Hn]]),Un={},Zn={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},Ln=m("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"},null,-1),Gn=[Ln];function Qn(e,n){return b(),y("svg",Zn,Gn)}const Kn=N(Un,[["render",Qn]]),Wn={},Yn={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},Jn=m("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"},null,-1),Xn=[Jn];function er(e,n){return b(),y("svg",Yn,Xn)}const nr=N(Wn,[["render",er]]),rr={class:"input-icon-wrap"},or={class:"input-icon"},ir=$({__name:"SearchComponent",setup(e){const{searchNotes:n}=M(),{getNotes:r}=z(),i=Se(),o=w(null),l=i.query.q,c=async()=>{var s;const t=(s=o.value)==null?void 0:s.value;await Me({path:"/",query:{q:t}}),await n(t)};return $e(async()=>{l&&(await r(),await c())}),(t,s)=>{const u=nr;return b(),y("div",rr,[m("span",or,[I(u)]),Z(m("input",{ref_key:"input",ref:o,"onUpdate:modelValue":s[0]||(s[0]=f=>De(l)?l.value=f:null),type:"text",placeholder:"Search",class:"input-with-icon",onInput:c},null,544),[[Te,x(l)]])])}}});const lr={class:"w-100 d-flex align-items-center"},tr={class:"left d-flex align-items-center gap-5"},cr={class:"header position-sticky d-flex align-items-center weight-500"},sr={class:"right d-flex align-items-center gap-9"},ur={key:0,class:"d-flex justify-content-center date"},fr=$({__name:"HeaderComponent",props:{dateState:Boolean},setup(e){const n=e,{currentNoteUpdateDate:r,isPreviewActive:i}=j(M()),{getQueryId:o,getNotesLength:l}=M();return(c,t)=>{const s=Vn,u=Kn,f=ir;return b(),y(Ee,null,[m("header",lr,[m("div",tr,[m("div",cr,[x(i)?(b(),J(s,{key:0,class:"cursor-pointer","is-preview-active":x(i),onClick:t[0]||(t[0]=a=>i.value=!x(i))},null,8,["is-preview-active"])):(b(),J(u,{key:1,class:"cursor-pointer","is-preview-active":x(i),onClick:t[1]||(t[1]=a=>i.value=!x(i))},null,8,["is-preview-active"]))])]),m("div",sr,[I(f)])]),n.dateState&&x(r)&&x(o)()&&x(l)()?(b(),y("div",ur,U(("formatDate"in c?c.formatDate:x(ze))(x(r),"fullDate")),1)):V("",!0)],64)}}});const ar=N(fr,[["__scopeId","data-v-eaf926f1"]]),pr={class:"editor d-flex flex-column"},hr=$({__name:"EditorComponent",setup(e){const{saveNote:n,createNote:r,getQueryId:i}=M(),{rawText:o}=j(M()),l=async()=>{i()||await r()},c=w(null);return Qe(()=>{c&&c.value&&c.value.focus()}),(t,s)=>(b(),y("div",pr,[Z(m("textarea",{ref_key:"textarea",ref:c,"onUpdate:modelValue":s[0]||(s[0]=u=>De(o)?o.value=u:null),class:"editor__area",onInput:s[1]||(s[1]=u=>{x(n)(),l()})},null,544),[[Te,x(o)]])]))}});const dr=N(hr,[["__scopeId","data-v-4c1d0d23"]]);var K;function Re(e){return K=K||document.createElement("textarea"),K.innerHTML="&"+e+";",K.value}var _r=Object.prototype.hasOwnProperty;function vr(e,n){return e?_r.call(e,n):!1}function Be(e){var n=[].slice.call(arguments,1);return n.forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(i){e[i]=r[i]})}}),e}var gr=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function L(e){return e.indexOf("\\")<0?e:e.replace(gr,"$1")}function Pe(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function ae(e){if(e>65535){e-=65536;var n=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(n,r)}return String.fromCharCode(e)}var kr=/&([a-z#][a-z0-9]{1,31});/gi,xr=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function mr(e,n){var r=0,i=Re(n);return n!==i?i:n.charCodeAt(0)===35&&xr.test(n)&&(r=n[1].toLowerCase()==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10),Pe(r))?ae(r):e}function B(e){return e.indexOf("&")<0?e:e.replace(kr,mr)}var br=/[&<>"]/,yr=/[&<>"]/g,Cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ar(e){return Cr[e]}function C(e){return br.test(e)?e.replace(yr,Ar):e}var d={};d.blockquote_open=function(){return`<blockquote>
`};d.blockquote_close=function(e,n){return"</blockquote>"+P(e,n)};d.code=function(e,n){return e[n].block?"<pre><code>"+C(e[n].content)+"</code></pre>"+P(e,n):"<code>"+C(e[n].content)+"</code>"};d.fence=function(e,n,r,i,o){var l=e[n],c="",t=r.langPrefix,s="",u,f,a;if(l.params){if(u=l.params.split(/\s+/g),f=u.join(" "),vr(o.rules.fence_custom,u[0]))return o.rules.fence_custom[u[0]](e,n,r,i,o);s=C(B(L(f))),c=' class="'+t+s+'"'}return r.highlight?a=r.highlight.apply(r.highlight,[l.content].concat(u))||C(l.content):a=C(l.content),"<pre><code"+c+">"+a+"</code></pre>"+P(e,n)};d.fence_custom={};d.heading_open=function(e,n){return"<h"+e[n].hLevel+">"};d.heading_close=function(e,n){return"</h"+e[n].hLevel+`>
`};d.hr=function(e,n,r){return(r.xhtmlOut?"<hr />":"<hr>")+P(e,n)};d.bullet_list_open=function(){return`<ul>
`};d.bullet_list_close=function(e,n){return"</ul>"+P(e,n)};d.list_item_open=function(){return"<li>"};d.list_item_close=function(){return`</li>
`};d.ordered_list_open=function(e,n){var r=e[n],i=r.order>1?' start="'+r.order+'"':"";return"<ol"+i+`>
`};d.ordered_list_close=function(e,n){return"</ol>"+P(e,n)};d.paragraph_open=function(e,n){return e[n].tight?"":"<p>"};d.paragraph_close=function(e,n){var r=!(e[n].tight&&n&&e[n-1].type==="inline"&&!e[n-1].content);return(e[n].tight?"":"</p>")+(r?P(e,n):"")};d.link_open=function(e,n,r){var i=e[n].title?' title="'+C(B(e[n].title))+'"':"",o=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+C(e[n].href)+'"'+i+o+">"};d.link_close=function(){return"</a>"};d.image=function(e,n,r){var i=' src="'+C(e[n].src)+'"',o=e[n].title?' title="'+C(B(e[n].title))+'"':"",l=' alt="'+(e[n].alt?C(B(L(e[n].alt))):"")+'"',c=r.xhtmlOut?" /":"";return"<img"+i+l+o+c+">"};d.table_open=function(){return`<table>
`};d.table_close=function(){return`</table>
`};d.thead_open=function(){return`<thead>
`};d.thead_close=function(){return`</thead>
`};d.tbody_open=function(){return`<tbody>
`};d.tbody_close=function(){return`</tbody>
`};d.tr_open=function(){return"<tr>"};d.tr_close=function(){return`</tr>
`};d.th_open=function(e,n){var r=e[n];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};d.th_close=function(){return"</th>"};d.td_open=function(e,n){var r=e[n];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};d.td_close=function(){return"</td>"};d.strong_open=function(){return"<strong>"};d.strong_close=function(){return"</strong>"};d.em_open=function(){return"<em>"};d.em_close=function(){return"</em>"};d.del_open=function(){return"<del>"};d.del_close=function(){return"</del>"};d.ins_open=function(){return"<ins>"};d.ins_close=function(){return"</ins>"};d.mark_open=function(){return"<mark>"};d.mark_close=function(){return"</mark>"};d.sub=function(e,n){return"<sub>"+C(e[n].content)+"</sub>"};d.sup=function(e,n){return"<sup>"+C(e[n].content)+"</sup>"};d.hardbreak=function(e,n,r){return r.xhtmlOut?`<br />
`:`<br>
`};d.softbreak=function(e,n,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};d.text=function(e,n){return C(e[n].content)};d.htmlblock=function(e,n){return e[n].content};d.htmltag=function(e,n){return e[n].content};d.abbr_open=function(e,n){return'<abbr title="'+C(B(e[n].title))+'">'};d.abbr_close=function(){return"</abbr>"};d.footnote_ref=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+i+'">['+r+"]</a></sup>"};d.footnote_block_open=function(e,n,r){var i=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return i+`<section class="footnotes">
<ol class="footnotes-list">
`};d.footnote_block_close=function(){return`</ol>
</section>
`};d.footnote_open=function(e,n){var r=Number(e[n].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};d.footnote_close=function(){return`</li>
`};d.footnote_anchor=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),' <a href="#'+i+'" class="footnote-backref">â©</a>'};d.dl_open=function(){return`<dl>
`};d.dt_open=function(){return"<dt>"};d.dd_open=function(){return"<dd>"};d.dl_close=function(){return`</dl>
`};d.dt_close=function(){return`</dt>
`};d.dd_close=function(){return`</dd>
`};function Oe(e,n){return++n>=e.length-2?n:e[n].type==="paragraph_open"&&e[n].tight&&e[n+1].type==="inline"&&e[n+1].content.length===0&&e[n+2].type==="paragraph_close"&&e[n+2].tight?Oe(e,n+2):n}var P=d.getBreak=function(n,r){return r=Oe(n,r),r<n.length&&n[r].type==="list_item_close"?"":`
`};function he(){this.rules=Be({},d),this.getBreak=d.getBreak}he.prototype.renderInline=function(e,n,r){for(var i=this.rules,o=e.length,l=0,c="";o--;)c+=i[e[l].type](e,l++,n,r,this);return c};he.prototype.render=function(e,n,r){for(var i=this.rules,o=e.length,l=-1,c="";++l<o;)e[l].type==="inline"?c+=this.renderInline(e[l].children,n,r):c+=i[e[l].type](e,l,n,r,this);return c};function S(){this.__rules__=[],this.__cache__=null}S.prototype.__find__=function(e){for(var n=this.__rules__.length,r=-1;n--;)if(this.__rules__[++r].name===e)return r;return-1};S.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(i){n.indexOf(i)<0&&n.push(i)})}),e.__cache__={},n.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(i){i.enabled&&(r&&i.alt.indexOf(r)<0||e.__cache__[r].push(i.fn))})})};S.prototype.at=function(e,n,r){var i=this.__find__(e),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=n,this.__rules__[i].alt=o.alt||[],this.__cache__=null};S.prototype.before=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};S.prototype.after=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};S.prototype.push=function(e,n,r){var i=r||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};S.prototype.enable=function(e,n){e=Array.isArray(e)?e:[e],n&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var i=this.__find__(r);if(i<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[i].enabled=!0},this),this.__cache__=null};S.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(n){var r=this.__find__(n);if(r<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[r].enabled=!1},this),this.__cache__=null};S.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function wr(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function O(e,n,r,i,o){this.src=e,this.env=i,this.options=r,this.parser=n,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}O.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};O.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};O.prototype.cacheSet=function(e,n){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=n};O.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function G(e,n){var r,i,o,l=-1,c=e.posMax,t=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=n+1,e.isInLabel=!0,r=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),o===91)r++;else if(o===93&&(r--,r===0)){i=!0;break}e.parser.skipToken(e)}return i?(l=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=t,e.isInLabel=s,l}function Mr(e,n,r,i){var o,l,c,t,s,u;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(o=new O(e,n,r,i,[]),l=G(o,1),l<0||e.charCodeAt(l+1)!==58))return-1;for(t=o.posMax,c=l+2;c<t&&o.src.charCodeAt(c)!==10;c++);return s=e.slice(2,l),u=e.slice(l+2,c).trim(),u.length===0?-1:(i.abbreviations||(i.abbreviations={}),typeof i.abbreviations[":"+s]>"u"&&(i.abbreviations[":"+s]=u),c)}function Sr(e){var n=e.tokens,r,i,o,l;if(!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r-1].type==="paragraph_open"&&n[r].type==="inline"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=Mr(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function pe(e){var n=B(e);try{n=decodeURI(n)}catch{}return encodeURI(n)}function qe(e,n){var r,i,o,l=n,c=e.posMax;if(e.src.charCodeAt(n)===60){for(n++;n<c;){if(r=e.src.charCodeAt(n),r===10)return!1;if(r===62)return o=pe(L(e.src.slice(l+1,n))),e.parser.validateLink(o)?(e.pos=n+1,e.linkContent=o,!0):!1;if(r===92&&n+1<c){n+=2;continue}n++}return!1}for(i=0;n<c&&(r=e.src.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<c){n+=2;continue}if(r===40&&(i++,i>1)||r===41&&(i--,i<0))break;n++}return l===n||(o=L(e.src.slice(l,n)),!e.parser.validateLink(o))?!1:(e.linkContent=o,e.pos=n,!0)}function Fe(e,n){var r,i=n,o=e.posMax,l=e.src.charCodeAt(n);if(l!==34&&l!==39&&l!==40)return!1;for(n++,l===40&&(l=41);n<o;){if(r=e.src.charCodeAt(n),r===l)return e.pos=n+1,e.linkContent=L(e.src.slice(i+1,n)),!0;if(r===92&&n+1<o){n+=2;continue}n++}return!1}function je(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Er(e,n,r,i){var o,l,c,t,s,u,f,a,p;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(o=new O(e,n,r,i,[]),l=G(o,0),l<0||e.charCodeAt(l+1)!==58))return-1;for(t=o.posMax,c=l+2;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);if(!qe(o,c))return-1;for(f=o.linkContent,c=o.pos,u=c,c=c+1;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);for(c<t&&u!==c&&Fe(o,c)?(a=o.linkContent,c=o.pos):(a="",c=u);c<t&&o.src.charCodeAt(c)===32;)c++;return c<t&&o.src.charCodeAt(c)!==10?-1:(p=je(e.slice(1,l)),typeof i.references[p]>"u"&&(i.references[p]={title:a,href:f}),c)}function Nr(e){var n=e.tokens,r,i,o,l;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r].type==="inline"&&n[r-1].type==="paragraph_open"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=Er(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function Ir(e){var n=e.tokens,r,i,o;for(i=0,o=n.length;i<o;i++)r=n[i],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function $r(e){var n,r,i,o,l,c,t,s,u,f=0,a=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(h){return h.type==="footnote_reference_open"?(a=!0,s=[],u=h.label,!1):h.type==="footnote_reference_close"?(a=!1,p[":"+u]=s,!1):(a&&s.push(h),!a)}),!!e.env.footnotes.list)){for(c=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:f++}),n=0,r=c.length;n<r;n++){for(e.tokens.push({type:"footnote_open",id:n,level:f++}),c[n].tokens?(t=[],t.push({type:"paragraph_open",tight:!1,level:f++}),t.push({type:"inline",content:"",level:f,children:c[n].tokens}),t.push({type:"paragraph_close",tight:!1,level:--f})):c[n].label&&(t=p[":"+c[n].label]),e.tokens=e.tokens.concat(t),e.tokens[e.tokens.length-1].type==="paragraph_close"?l=e.tokens.pop():l=null,o=c[n].count>0?c[n].count:1,i=0;i<o;i++)e.tokens.push({type:"footnote_anchor",id:n,subId:i,level:f});l&&e.tokens.push(l),e.tokens.push({type:"footnote_close",level:--f})}e.tokens.push({type:"footnote_block_close",level:--f})}}var ge=` 
()[]'".,!?-`;function te(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function Tr(e){var n,r,i,o,l,c,t,s,u,f,a,p,h=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(p="(^|["+ge.split("").map(te).join("")+"])("+Object.keys(e.env.abbreviations).map(function(k){return k.substr(1)}).sort(function(k,_){return _.length-k.length}).map(te).join("|")+")($|["+ge.split("").map(te).join("")+"])",e.env.abbrRegExp=new RegExp(p,"g")),f=e.env.abbrRegExp,r=0,i=h.length;r<i;r++)if(h[r].type==="inline"){for(o=h[r].children,n=o.length-1;n>=0;n--)if(l=o[n],l.type==="text"){for(s=0,c=l.content,f.lastIndex=0,u=l.level,t=[];a=f.exec(c);)f.lastIndex>s&&t.push({type:"text",content:c.slice(s,a.index+a[1].length),level:u}),t.push({type:"abbr_open",title:e.env.abbreviations[":"+a[2]],level:u++}),t.push({type:"text",content:a[2],level:u}),t.push({type:"abbr_close",level:--u}),s=f.lastIndex-a[3].length;t.length&&(s<c.length&&t.push({type:"text",content:c.slice(s),level:u}),h[r].children=o=[].concat(o.slice(0,n),t,o.slice(n+1)))}}}}var Dr=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,zr=/\((c|tm|r|p)\)/ig,Rr={c:"Â©",r:"Â®",p:"Â§",tm:"â¢"};function Br(e){return e.indexOf("(")<0?e:e.replace(zr,function(n,r){return Rr[r.toLowerCase()]})}function Pr(e){var n,r,i,o,l;if(e.options.typographer){for(l=e.tokens.length-1;l>=0;l--)if(e.tokens[l].type==="inline")for(o=e.tokens[l].children,n=o.length-1;n>=0;n--)r=o[n],r.type==="text"&&(i=r.content,i=Br(i),Dr.test(i)&&(i=i.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1â$2").replace(/(^|\s)--(\s|$)/mg,"$1â$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1â$2")),r.content=i)}}var Or=/['"]/,ke=/['"]/g,qr=/[-\s()\[\]]/,xe="â";function me(e,n){return n<0||n>=e.length?!1:!qr.test(e[n])}function F(e,n,r){return e.substr(0,n)+r+e.substr(n+1)}function Fr(e){var n,r,i,o,l,c,t,s,u,f,a,p,h,k,_,v,g;if(e.options.typographer){for(g=[],_=e.tokens.length-1;_>=0;_--)if(e.tokens[_].type==="inline"){for(v=e.tokens[_].children,g.length=0,n=0;n<v.length;n++)if(r=v[n],!(r.type!=="text"||Or.test(r.text))){for(t=v[n].level,h=g.length-1;h>=0&&!(g[h].level<=t);h--);g.length=h+1,i=r.content,l=0,c=i.length;e:for(;l<c&&(ke.lastIndex=l,o=ke.exec(i),!!o);){if(s=!me(i,o.index-1),l=o.index+1,k=o[0]==="'",u=!me(i,l),!u&&!s){k&&(r.content=F(r.content,o.index,xe));continue}if(a=!u,p=!s,p){for(h=g.length-1;h>=0&&(f=g[h],!(g[h].level<t));h--)if(f.single===k&&g[h].level===t){f=g[h],k?(v[f.token].content=F(v[f.token].content,f.pos,e.options.quotes[2]),r.content=F(r.content,o.index,e.options.quotes[3])):(v[f.token].content=F(v[f.token].content,f.pos,e.options.quotes[0]),r.content=F(r.content,o.index,e.options.quotes[1])),g.length=h;continue e}}a?g.push({token:n,pos:o.index,single:k,level:t}):p&&k&&(r.content=F(r.content,o.index,xe))}}}}}var ce=[["block",wr],["abbr",Sr],["references",Nr],["inline",Ir],["footnote_tail",$r],["abbr2",Tr],["replacements",Pr],["smartquotes",Fr]];function He(){this.options={},this.ruler=new S;for(var e=0;e<ce.length;e++)this.ruler.push(ce[e][0],ce[e][1])}He.prototype.process=function(e){var n,r,i;for(i=this.ruler.getRules(""),n=0,r=i.length;n<r;n++)i[n](e)};function q(e,n,r,i,o){var l,c,t,s,u,f,a;for(this.src=e,this.parser=n,this.options=r,this.env=i,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",c=this.src,f=0,a=!1,t=s=f=0,u=c.length;s<u;s++){if(l=c.charCodeAt(s),!a)if(l===32){f++;continue}else a=!0;(l===10||s===u-1)&&(l!==10&&s++,this.bMarks.push(t),this.eMarks.push(s),this.tShift.push(f),a=!1,f=0,t=s+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}q.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};q.prototype.skipEmptyLines=function(n){for(var r=this.lineMax;n<r&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};q.prototype.skipSpaces=function(n){for(var r=this.src.length;n<r&&this.src.charCodeAt(n)===32;n++);return n};q.prototype.skipChars=function(n,r){for(var i=this.src.length;n<i&&this.src.charCodeAt(n)===r;n++);return n};q.prototype.skipCharsBack=function(n,r,i){if(n<=i)return n;for(;n>i;)if(r!==this.src.charCodeAt(--n))return n+1;return n};q.prototype.getLines=function(n,r,i,o){var l,c,t,s,u,f=n;if(n>=r)return"";if(f+1===r)return c=this.bMarks[f]+Math.min(this.tShift[f],i),t=o?this.eMarks[f]+1:this.eMarks[f],this.src.slice(c,t);for(s=new Array(r-n),l=0;f<r;f++,l++)u=this.tShift[f],u>i&&(u=i),u<0&&(u=0),c=this.bMarks[f]+u,f+1<r||o?t=this.eMarks[f]+1:t=this.eMarks[f],s[l]=this.src.slice(c,t);return s.join("")};function jr(e,n,r){var i,o;if(e.tShift[n]-e.blkIndent<4)return!1;for(o=i=n+1;i<r;){if(e.isEmpty(i)){i++;continue}if(e.tShift[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=i,e.tokens.push({type:"code",content:e.getLines(n,o,4+e.blkIndent,!0),block:!0,lines:[n,e.line],level:e.level}),!0}function Hr(e,n,r,i){var o,l,c,t,s,u=!1,f=e.bMarks[n]+e.tShift[n],a=e.eMarks[n];if(f+3>a||(o=e.src.charCodeAt(f),o!==126&&o!==96)||(s=f,f=e.skipChars(f,o),l=f-s,l<3)||(c=e.src.slice(f,a).trim(),c.indexOf("`")>=0))return!1;if(i)return!0;for(t=n;t++,!(t>=r||(f=s=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],f<a&&e.tShift[t]<e.blkIndent));)if(e.src.charCodeAt(f)===o&&!(e.tShift[t]-e.blkIndent>=4)&&(f=e.skipChars(f,o),!(f-s<l)&&(f=e.skipSpaces(f),!(f<a)))){u=!0;break}return l=e.tShift[n],e.line=t+(u?1:0),e.tokens.push({type:"fence",params:c,content:e.getLines(n+1,t,l,!0),lines:[n,e.line],level:e.level}),!0}function Vr(e,n,r,i){var o,l,c,t,s,u,f,a,p,h,k,_=e.bMarks[n]+e.tShift[n],v=e.eMarks[n];if(_>v||e.src.charCodeAt(_++)!==62||e.level>=e.options.maxNesting)return!1;if(i)return!0;for(e.src.charCodeAt(_)===32&&_++,s=e.blkIndent,e.blkIndent=0,t=[e.bMarks[n]],e.bMarks[n]=_,_=_<v?e.skipSpaces(_):_,l=_>=v,c=[e.tShift[n]],e.tShift[n]=_-e.bMarks[n],a=e.parser.ruler.getRules("blockquote"),o=n+1;o<r&&(_=e.bMarks[o]+e.tShift[o],v=e.eMarks[o],!(_>=v));o++){if(e.src.charCodeAt(_++)===62){e.src.charCodeAt(_)===32&&_++,t.push(e.bMarks[o]),e.bMarks[o]=_,_=_<v?e.skipSpaces(_):_,l=_>=v,c.push(e.tShift[o]),e.tShift[o]=_-e.bMarks[o];continue}if(l)break;for(k=!1,p=0,h=a.length;p<h;p++)if(a[p](e,o,r,!0)){k=!0;break}if(k)break;t.push(e.bMarks[o]),c.push(e.tShift[o]),e.tShift[o]=-1337}for(u=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:f=[n,0],level:e.level++}),e.parser.tokenize(e,n,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=u,f[1]=e.line,p=0;p<c.length;p++)e.bMarks[p+n]=t[p],e.tShift[p+n]=c[p];return e.blkIndent=s,!0}function Ur(e,n,r,i){var o,l,c,t=e.bMarks[n],s=e.eMarks[n];if(t+=e.tShift[n],t>s||(o=e.src.charCodeAt(t++),o!==42&&o!==45&&o!==95))return!1;for(l=1;t<s;){if(c=e.src.charCodeAt(t++),c!==o&&c!==32)return!1;c===o&&l++}return l<3?!1:(i||(e.line=n+1,e.tokens.push({type:"hr",lines:[n,e.line],level:e.level})),!0)}function be(e,n){var r,i,o;return i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n],i>=o||(r=e.src.charCodeAt(i++),r!==42&&r!==45&&r!==43)||i<o&&e.src.charCodeAt(i)!==32?-1:i}function ye(e,n){var r,i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return i<o&&e.src.charCodeAt(i)!==32?-1:i}function Zr(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Lr(e,n,r,i){var o,l,c,t,s,u,f,a,p,h,k,_,v,g,A,D,H,E,re=!0,oe,Q,ve,ie;if((a=ye(e,n))>=0)v=!0;else if((a=be(e,n))>=0)v=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(_=e.src.charCodeAt(a-1),i)return!0;for(A=e.tokens.length,v?(f=e.bMarks[n]+e.tShift[n],k=Number(e.src.substr(f,a-f-1)),e.tokens.push({type:"ordered_list_open",order:k,lines:H=[n,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:H=[n,0],level:e.level++}),o=n,D=!1,oe=e.parser.ruler.getRules("list");o<r&&(g=e.skipSpaces(a),p=e.eMarks[o],g>=p?h=1:h=g-a,h>4&&(h=1),h<1&&(h=1),l=a-e.bMarks[o]+h,e.tokens.push({type:"list_item_open",lines:E=[n,0],level:e.level++}),t=e.blkIndent,s=e.tight,c=e.tShift[n],u=e.parentType,e.tShift[n]=g-e.bMarks[n],e.blkIndent=l,e.tight=!0,e.parentType="list",e.parser.tokenize(e,n,r,!0),(!e.tight||D)&&(re=!1),D=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=t,e.tShift[n]=c,e.tight=s,e.parentType=u,e.tokens.push({type:"list_item_close",level:--e.level}),o=n=e.line,E[1]=o,g=e.bMarks[n],!(o>=r||e.isEmpty(o)||e.tShift[o]<e.blkIndent));){for(ie=!1,Q=0,ve=oe.length;Q<ve;Q++)if(oe[Q](e,o,r,!0)){ie=!0;break}if(ie)break;if(v){if(a=ye(e,o),a<0)break}else if(a=be(e,o),a<0)break;if(_!==e.src.charCodeAt(a-1))break}return e.tokens.push({type:v?"ordered_list_close":"bullet_list_close",level:--e.level}),H[1]=o,e.line=o,re&&Zr(e,A),!0}function Gr(e,n,r,i){var o,l,c,t,s,u=e.bMarks[n]+e.tShift[n],f=e.eMarks[n];if(u+4>f||e.src.charCodeAt(u)!==91||e.src.charCodeAt(u+1)!==94||e.level>=e.options.maxNesting)return!1;for(t=u+2;t<f;t++){if(e.src.charCodeAt(t)===32)return!1;if(e.src.charCodeAt(t)===93)break}return t===u+2||t+1>=f||e.src.charCodeAt(++t)!==58?!1:(i||(t++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(u+2,t-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),o=e.bMarks[n],l=e.tShift[n],c=e.parentType,e.tShift[n]=e.skipSpaces(t)-t,e.bMarks[n]=t,e.blkIndent+=4,e.parentType="footnote",e.tShift[n]<e.blkIndent&&(e.tShift[n]+=e.blkIndent,e.bMarks[n]-=e.blkIndent),e.parser.tokenize(e,n,r,!0),e.parentType=c,e.blkIndent-=4,e.tShift[n]=l,e.bMarks[n]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function Qr(e,n,r,i){var o,l,c,t=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(t>=s||(o=e.src.charCodeAt(t),o!==35||t>=s))return!1;for(l=1,o=e.src.charCodeAt(++t);o===35&&t<s&&l<=6;)l++,o=e.src.charCodeAt(++t);return l>6||t<s&&o!==32?!1:(i||(s=e.skipCharsBack(s,32,t),c=e.skipCharsBack(s,35,t),c>t&&e.src.charCodeAt(c-1)===32&&(s=c),e.line=n+1,e.tokens.push({type:"heading_open",hLevel:l,lines:[n,e.line],level:e.level}),t<s&&e.tokens.push({type:"inline",content:e.src.slice(t,s).trim(),level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:l,level:e.level})),!0)}function Kr(e,n,r){var i,o,l,c=n+1;return c>=r||e.tShift[c]<e.blkIndent||e.tShift[c]-e.blkIndent>3||(o=e.bMarks[c]+e.tShift[c],l=e.eMarks[c],o>=l)||(i=e.src.charCodeAt(o),i!==45&&i!==61)||(o=e.skipChars(o,i),o=e.skipSpaces(o),o<l)?!1:(o=e.bMarks[n]+e.tShift[n],e.line=c+1,e.tokens.push({type:"heading_open",hLevel:i===61?1:2,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[n]).trim(),level:e.level+1,lines:[n,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:i===61?1:2,level:e.level}),!0)}var Ve={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){Ve[e]=!0});var Wr=/^<([a-zA-Z]{1,15})[\s\/>]/,Yr=/^<\/([a-zA-Z]{1,15})[\s>]/;function Jr(e){var n=e|32;return n>=97&&n<=122}function Xr(e,n,r,i){var o,l,c,t=e.bMarks[n],s=e.eMarks[n],u=e.tShift[n];if(t+=u,!e.options.html||u>3||t+2>=s||e.src.charCodeAt(t)!==60)return!1;if(o=e.src.charCodeAt(t+1),o===33||o===63){if(i)return!0}else if(o===47||Jr(o)){if(o===47){if(l=e.src.slice(t,s).match(Yr),!l)return!1}else if(l=e.src.slice(t,s).match(Wr),!l)return!1;if(Ve[l[1].toLowerCase()]!==!0)return!1;if(i)return!0}else return!1;for(c=n+1;c<e.lineMax&&!e.isEmpty(c);)c++;return e.line=c,e.tokens.push({type:"htmlblock",level:e.level,lines:[n,e.line],content:e.getLines(n,c,0,!0)}),!0}function se(e,n){var r=e.bMarks[n]+e.blkIndent,i=e.eMarks[n];return e.src.substr(r,i-r)}function eo(e,n,r,i){var o,l,c,t,s,u,f,a,p,h,k;if(n+2>r||(s=n+1,e.tShift[s]<e.blkIndent)||(c=e.bMarks[s]+e.tShift[s],c>=e.eMarks[s])||(o=e.src.charCodeAt(c),o!==124&&o!==45&&o!==58)||(l=se(e,n+1),!/^[-:| ]+$/.test(l))||(u=l.split("|"),u<=2))return!1;for(a=[],t=0;t<u.length;t++){if(p=u[t].trim(),!p){if(t===0||t===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;p.charCodeAt(p.length-1)===58?a.push(p.charCodeAt(0)===58?"center":"right"):p.charCodeAt(0)===58?a.push("left"):a.push("")}if(l=se(e,n).trim(),l.indexOf("|")===-1||(u=l.replace(/^\||\|$/g,"").split("|"),a.length!==u.length))return!1;if(i)return!0;for(e.tokens.push({type:"table_open",lines:h=[n,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[n,n+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[n,n+1],level:e.level++}),t=0;t<u.length;t++)e.tokens.push({type:"th_open",align:a[t],lines:[n,n+1],level:e.level++}),e.tokens.push({type:"inline",content:u[t].trim(),lines:[n,n+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:k=[n+2,0],level:e.level++}),s=n+2;s<r&&!(e.tShift[s]<e.blkIndent||(l=se(e,s).trim(),l.indexOf("|")===-1));s++){for(u=l.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),t=0;t<u.length;t++)e.tokens.push({type:"td_open",align:a[t],level:e.level++}),f=u[t].substring(u[t].charCodeAt(0)===124?1:0,u[t].charCodeAt(u[t].length-1)===124?u[t].length-1:u[t].length).trim(),e.tokens.push({type:"inline",content:f,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),h[1]=k[1]=s,e.line=s,!0}function W(e,n){var r,i,o=e.bMarks[n]+e.tShift[n],l=e.eMarks[n];return o>=l||(i=e.src.charCodeAt(o++),i!==126&&i!==58)||(r=e.skipSpaces(o),o===r)||r>=l?-1:r}function no(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function ro(e,n,r,i){var o,l,c,t,s,u,f,a,p,h,k,_,v,g;if(i)return e.ddIndent<0?!1:W(e,n)>=0;if(f=n+1,e.isEmpty(f)&&++f>r||e.tShift[f]<e.blkIndent||(o=W(e,f),o<0)||e.level>=e.options.maxNesting)return!1;u=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[n,0],level:e.level++}),c=n,l=f;e:for(;;){for(g=!0,v=!1,e.tokens.push({type:"dt_open",lines:[c,c],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(c,c+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[c,c],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:t=[f,0],level:e.level++}),_=e.tight,p=e.ddIndent,a=e.blkIndent,k=e.tShift[l],h=e.parentType,e.blkIndent=e.ddIndent=e.tShift[l]+2,e.tShift[l]=o-e.bMarks[l],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,l,r,!0),(!e.tight||v)&&(g=!1),v=e.line-l>1&&e.isEmpty(e.line-1),e.tShift[l]=k,e.tight=_,e.parentType=h,e.blkIndent=a,e.ddIndent=p,e.tokens.push({type:"dd_close",level:--e.level}),t[1]=f=e.line,f>=r||e.tShift[f]<e.blkIndent)break e;if(o=W(e,f),o<0)break;l=f}if(f>=r||(c=f,e.isEmpty(c))||e.tShift[c]<e.blkIndent||(l=c+1,l>=r)||(e.isEmpty(l)&&l++,l>=r)||e.tShift[l]<e.blkIndent||(o=W(e,l),o<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=f,e.line=f,g&&no(e,u),!0}function oo(e,n){var r,i,o,l,c,t=n+1,s;if(r=e.lineMax,t<r&&!e.isEmpty(t)){for(s=e.parser.ruler.getRules("paragraph");t<r&&!e.isEmpty(t);t++)if(!(e.tShift[t]-e.blkIndent>3)){for(o=!1,l=0,c=s.length;l<c;l++)if(s[l](e,t,r,!0)){o=!0;break}if(o)break}}return i=e.getLines(n,t,e.blkIndent,!1).trim(),e.line=t,i.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:i,level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var Y=[["code",jr],["fences",Hr,["paragraph","blockquote","list"]],["blockquote",Vr,["paragraph","blockquote","list"]],["hr",Ur,["paragraph","blockquote","list"]],["list",Lr,["paragraph","blockquote"]],["footnote",Gr,["paragraph"]],["heading",Qr,["paragraph","blockquote"]],["lheading",Kr],["htmlblock",Xr,["paragraph","blockquote"]],["table",eo,["paragraph"]],["deflist",ro,["paragraph"]],["paragraph",oo]];function de(){this.ruler=new S;for(var e=0;e<Y.length;e++)this.ruler.push(Y[e][0],Y[e][1],{alt:(Y[e][2]||[]).slice()})}de.prototype.tokenize=function(e,n,r){for(var i=this.ruler.getRules(""),o=i.length,l=n,c=!1,t,s;l<r&&(e.line=l=e.skipEmptyLines(l),!(l>=r||e.tShift[l]<e.blkIndent));){for(s=0;s<o&&(t=i[s](e,l,r,!1),!t);s++);if(e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),l=e.line,l<r&&e.isEmpty(l)){if(c=!0,l++,l<r&&e.parentType==="list"&&e.isEmpty(l))break;e.line=l}}};var io=/[\n\t]/g,lo=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,to=/\u00a0/g;de.prototype.parse=function(e,n,r,i){var o,l=0,c=0;if(!e)return[];e=e.replace(to," "),e=e.replace(lo,`
`),e.indexOf("	")>=0&&(e=e.replace(io,function(t,s){var u;return e.charCodeAt(s)===10?(l=s+1,c=0,t):(u="    ".slice((s-l-c)%4),c=s-l+1,u)})),o=new q(e,this,n,r,i),this.tokenize(o,o.line,o.lineMax)};function co(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function so(e,n){for(var r=e.pos;r<e.posMax&&!co(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function uo(e,n){var r,i,o=e.pos;if(e.src.charCodeAt(o)!==10)return!1;if(r=e.pending.length-1,i=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var l=r-2;l>=0;l--)if(e.pending.charCodeAt(l)!==32){e.pending=e.pending.substring(0,l+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<i&&e.src.charCodeAt(o)===32;)o++;return e.pos=o,!0}var _e=[];for(var Ce=0;Ce<256;Ce++)_e.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){_e[e.charCodeAt(0)]=1});function fo(e,n){var r,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(r=e.src.charCodeAt(i),r<256&&_e[r]!==0)return n||(e.pending+=e.src[i]),e.pos+=2,!0;if(r===10){for(n||e.push({type:"hardbreak",level:e.level}),i++;i<o&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}}return n||(e.pending+="\\"),e.pos++,!0}function ao(e,n){var r,i,o,l,c,t=e.pos,s=e.src.charCodeAt(t);if(s!==96)return!1;for(r=t,t++,i=e.posMax;t<i&&e.src.charCodeAt(t)===96;)t++;for(o=e.src.slice(r,t),l=c=t;(l=e.src.indexOf("`",c))!==-1;){for(c=l+1;c<i&&e.src.charCodeAt(c)===96;)c++;if(c-l===o.length)return n||e.push({type:"code",content:e.src.slice(t,l).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=c,!0}return n||(e.pending+=o),e.pos+=o.length,!0}function po(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==126||n||c+4>=l||e.src.charCodeAt(c+1)!==126||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===126)||s===126||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===126;)i++;if(i>c+3)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==126&&t!==126&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function ho(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==43||n||c+4>=l||e.src.charCodeAt(c+1)!==43||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===43)||s===43||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===43;)i++;if(i!==c+2)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==43&&t!==43&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function _o(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==61||n||c+4>=l||e.src.charCodeAt(c+1)!==61||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===61)||s===61||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===61;)i++;if(i!==c+2)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==61&&t!==61&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function Ae(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function we(e,n){var r=n,i,o,l,c=!0,t=!0,s=e.posMax,u=e.src.charCodeAt(n);for(i=n>0?e.src.charCodeAt(n-1):-1;r<s&&e.src.charCodeAt(r)===u;)r++;return r>=s&&(c=!1),l=r-n,l>=4?c=t=!1:(o=r<s?e.src.charCodeAt(r):-1,(o===32||o===10)&&(c=!1),(i===32||i===10)&&(t=!1),u===95&&(Ae(i)&&(c=!1),Ae(o)&&(t=!1))),{can_open:c,can_close:t,delims:l}}function vo(e,n){var r,i,o,l,c,t,s,u=e.posMax,f=e.pos,a=e.src.charCodeAt(f);if(a!==95&&a!==42||n)return!1;if(s=we(e,f),r=s.delims,!s.can_open)return e.pos+=r,n||(e.pending+=e.src.slice(f,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=f+r,t=[r];e.pos<u;){if(e.src.charCodeAt(e.pos)===a){if(s=we(e,e.pos),i=s.delims,s.can_close){for(l=t.pop(),c=i;l!==c;){if(c<l){t.push(l-c);break}if(c-=l,t.length===0)break;e.pos+=l,l=t.pop()}if(t.length===0){r=l,o=!0;break}e.pos+=i;continue}s.can_open&&t.push(i),e.pos+=i;continue}e.parser.skipToken(e)}return o?(e.posMax=e.pos,e.pos=f+r,n||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=u,!0):(e.pos=f,!1)}var go=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function ko(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==126||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sub",level:e.level,content:i.replace(go,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}var xo=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function mo(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==94||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sup",level:e.level,content:i.replace(xo,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}function bo(e,n){var r,i,o,l,c,t,s,u,f=!1,a=e.pos,p=e.posMax,h=e.pos,k=e.src.charCodeAt(h);if(k===33&&(f=!0,k=e.src.charCodeAt(++h)),k!==91||e.level>=e.options.maxNesting||(r=h+1,i=G(e,h),i<0))return!1;if(t=i+1,t<p&&e.src.charCodeAt(t)===40){for(t++;t<p&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t>=p)return!1;for(h=t,qe(e,t)?(l=e.linkContent,t=e.pos):l="",h=t;t<p&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t<p&&h!==t&&Fe(e,t))for(c=e.linkContent,t=e.pos;t<p&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);else c="";if(t>=p||e.src.charCodeAt(t)!==41)return e.pos=a,!1;t++}else{if(e.linkLevel>0)return!1;for(;t<p&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t<p&&e.src.charCodeAt(t)===91&&(h=t+1,t=G(e,t),t>=0?o=e.src.slice(h,t++):t=h-1),o||(typeof o>"u"&&(t=i+1),o=e.src.slice(r,i)),s=e.env.references[je(o)],!s)return e.pos=a,!1;l=s.href,c=s.title}return n||(e.pos=r,e.posMax=i,f?e.push({type:"image",src:l,title:c,alt:e.src.substr(r,i-r),level:e.level}):(e.push({type:"link_open",href:l,title:c,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=t,e.posMax=p,!0}function yo(e,n){var r,i,o,l,c=e.posMax,t=e.pos;return t+2>=c||e.src.charCodeAt(t)!==94||e.src.charCodeAt(t+1)!==91||e.level>=e.options.maxNesting||(r=t+2,i=G(e,t+1),i<0)?!1:(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=r,e.posMax=i,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,l=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(l)},e.linkLevel--),e.pos=i+1,e.posMax=c,!0)}function Co(e,n){var r,i,o,l,c=e.posMax,t=e.pos;if(t+3>c||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(t)!==91||e.src.charCodeAt(t+1)!==94||e.level>=e.options.maxNesting)return!1;for(i=t+2;i<c;i++){if(e.src.charCodeAt(i)===32||e.src.charCodeAt(i)===10)return!1;if(e.src.charCodeAt(i)===93)break}return i===t+2||i>=c||(i++,r=e.src.slice(t+2,i-1),typeof e.env.footnotes.refs[":"+r]>"u")?!1:(n||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:r,count:0},e.env.footnotes.refs[":"+r]=o):o=e.env.footnotes.refs[":"+r],l=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:l,level:e.level})),e.pos=i,e.posMax=c,!0)}var Ao=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],wo=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Mo=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function So(e,n){var r,i,o,l,c,t=e.pos;return e.src.charCodeAt(t)!==60||(r=e.src.slice(t),r.indexOf(">")<0)?!1:(i=r.match(Mo),i?Ao.indexOf(i[1].toLowerCase())<0||(l=i[0].slice(1,-1),c=pe(l),!e.parser.validateLink(l))?!1:(n||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):(o=r.match(wo),o?(l=o[0].slice(1,-1),c=pe("mailto:"+l),e.parser.validateLink(c)?(n||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0):!1):!1))}function ee(e,n){return e=e.source,n=n||"",function r(i,o){return i?(o=o.source||o,e=e.replace(i,o),r):new RegExp(e,n)}}var Eo=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,No=/[^"'=<>`\x00-\x20]+/,Io=/'[^']*'/,$o=/"[^"]*"/,To=ee(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",No)("single_quoted",Io)("double_quoted",$o)(),Do=ee(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Eo)("attr_value",To)(),zo=ee(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",Do)(),Ro=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,Bo=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Po=/<[?].*?[?]>/,Oo=/<![A-Z]+\s+[^>]*>/,qo=/<!\[CDATA\[[\s\S]*?\]\]>/,Fo=ee(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",zo)("close_tag",Ro)("comment",Bo)("processing",Po)("declaration",Oo)("cdata",qo)();function jo(e){var n=e|32;return n>=97&&n<=122}function Ho(e,n){var r,i,o,l=e.pos;return!e.options.html||(o=e.posMax,e.src.charCodeAt(l)!==60||l+2>=o)||(r=e.src.charCodeAt(l+1),r!==33&&r!==63&&r!==47&&!jo(r))||(i=e.src.slice(l).match(Fo),!i)?!1:(n||e.push({type:"htmltag",content:e.src.slice(l,l+i[0].length),level:e.level}),e.pos+=i[0].length,!0)}var Vo=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Uo=/^&([a-z][a-z0-9]{1,31});/i;function Zo(e,n){var r,i,o,l=e.pos,c=e.posMax;if(e.src.charCodeAt(l)!==38)return!1;if(l+1<c){if(r=e.src.charCodeAt(l+1),r===35){if(o=e.src.slice(l).match(Vo),o)return n||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=Pe(i)?ae(i):ae(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(l).match(Uo),o){var t=Re(o[1]);if(o[1]!==t)return n||(e.pending+=t),e.pos+=o[0].length,!0}}return n||(e.pending+="&"),e.pos++,!0}var ue=[["text",so],["newline",uo],["escape",fo],["backticks",ao],["del",po],["ins",ho],["mark",_o],["emphasis",vo],["sub",ko],["sup",mo],["links",bo],["footnote_inline",yo],["footnote_ref",Co],["autolink",So],["htmltag",Ho],["entity",Zo]];function ne(){this.ruler=new S;for(var e=0;e<ue.length;e++)this.ruler.push(ue[e][0],ue[e][1]);this.validateLink=Lo}ne.prototype.skipToken=function(e){var n=this.ruler.getRules(""),r=n.length,i=e.pos,o,l;if((l=e.cacheGet(i))>0){e.pos=l;return}for(o=0;o<r;o++)if(n[o](e,!0)){e.cacheSet(i,e.pos);return}e.pos++,e.cacheSet(i,e.pos)};ne.prototype.tokenize=function(e){for(var n=this.ruler.getRules(""),r=n.length,i=e.posMax,o,l;e.pos<i;){for(l=0;l<r&&(o=n[l](e,!1),!o);l++);if(o){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ne.prototype.parse=function(e,n,r,i){var o=new O(e,this,n,r,i);this.tokenize(o)};function Lo(e){var n=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=B(r),!(r.indexOf(":")!==-1&&n.indexOf(r.split(":")[0])!==-1)}var Go={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},Qo={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},Ko={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},Wo={default:Go,full:Qo,commonmark:Ko};function Ue(e,n,r){this.src=n,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function T(e,n){typeof e!="string"&&(n=e,e="default"),n&&n.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new ne,this.block=new de,this.core=new He,this.renderer=new he,this.ruler=new S,this.options={},this.configure(Wo[e]),this.set(n||{})}T.prototype.set=function(e){Be(this.options,e)};T.prototype.configure=function(e){var n=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&n[r].ruler.enable(e.components[r].rules,!0)})};T.prototype.use=function(e,n){return e(this,n),this};T.prototype.parse=function(e,n){var r=new Ue(this,e,n);return this.core.process(r),r.tokens};T.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)};T.prototype.parseInline=function(e,n){var r=new Ue(this,e,n);return r.inlineMode=!0,this.core.process(r),r.tokens};T.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)};const Yo={class:"preview d-flex flex-column"},Jo=["innerHTML"],Xo=$({__name:"PreviewComponent",setup(e){const{rawText:n,parsedText:r,isPreviewActive:i}=j(M()),o=new T({html:!0,breaks:!0,linkify:!0,typographer:!0}),l=c=>o.render(c);return Ke(()=>{r.value=l(n.value)}),(c,t)=>(b(),y("div",Yo,[m("div",{class:X(["preview__area",{active:x(i)}]),innerHTML:x(r)},null,10,Jo)]))}});const ei=N(Xo,[["__scopeId","data-v-81206637"]]),ni=e=>(Ne("data-v-946a8945"),e=e(),Ie(),e),ri={class:"delete__modal d-flex flex-column w-100 h-100 position-absolute"},oi=ni(()=>m("h4",{class:"weight-700"}," Delete this note? ",-1)),ii={class:"weight-400"},li=$({__name:"DeleteModalComponent",setup(e,{emit:n}){const{noteTitle:r,rawText:i,notes:o,currentNoteId:l}=j(M()),{navigateCurrentNote:c}=M(),t=u=>n(R.toggleDeleteModal,u),s=async()=>{const{deleteNote:u,getNotes:f}=z();await u(l.value),o.value=await f(),r.value=R.newNote,i.value="",t(!1),await c("")};return(u,f)=>(b(),y("div",null,[m("div",ri,[oi,m("p",ii," Are you sure you want to delete the â"+U(x(r))+"â note and its contents? This action cannot be reversed. ",1),m("button",{class:"w-100 weight-400",onClick:s}," Confirm & Delete ")]),m("div",{class:"modal-overlay",onClick:f[0]||(f[0]=a=>t(!1))})]))}});const ti=N(li,[["__scopeId","data-v-946a8945"]]),ci={class:"home d-flex"},si={class:"home__container"},ui=$({__name:"index",setup(e){const{getQueryId:n,navigateCurrentNote:r,initStoreNotes:i,setCurrentNote:o}=M();We({title:"MacOS Note App",meta:[{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"},{name:"description",content:"Home page of MacOS Note App"}]});const l=w(!1),c=a=>l.value=a,t=a=>s.value=a,{isPreviewActive:s}=j(M()),u=w(!0),f=w(!1);return $e(async()=>{const{getNotes:a}=z();(await a()).length?(await i(),o(n())):await r(""),f.value=!0}),(a,p)=>{const h=Pn,k=ar,_=dr,v=ei,g=ti;return b(),y("div",ci,[Z(I(h,{"is-load-data":x(f),onAddNewNote:t,onToggleDeleteModal:p[0]||(p[0]=A=>c(!0))},null,8,["is-load-data"]),[[le,x(u)]]),m("div",si,[m("div",{class:X(["home__container-main d-flex flex-column",{main:!x(s)}])},[I(k,{"date-state":!x(s),onSearchMode:t},null,8,["date-state"]),Z(I(_,null,null,512),[[le,!x(s)]]),Z(I(v,null,null,512),[[le,x(s)]])],2)]),x(l)?(b(),J(g,{key:0,onToggleDeleteModal:c})):V("",!0)])}}});const pi=N(ui,[["__scopeId","data-v-89d2fa7d"]]);export{pi as default};
