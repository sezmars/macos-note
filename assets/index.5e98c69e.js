import{_ as E,j as b,k as y,l as x,d as D,y as Fe,r as M,n as je,z as He,u as Ve,A as q,m as F,B as k,C as V,D as O,F as Ee,E as Ue,G as J,t as j,v as pe,x as ae,o as Ze,H as Y,I as Ge,J as Le,K as Qe,L as Ke,M as oe}from"./entry.27e4a597.js";import{u as We}from"./vue.f36acd1f.8f63ad1d.js";const Ye={},Je={width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16"},Xe=x("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"},null,-1),en=[Xe];function nn(e,n){return b(),y("svg",Je,en)}const rn=E(Ye,[["render",nn]]),on={},ln={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},tn=x("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"},null,-1),cn=x("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"},null,-1),sn=[tn,cn];function fn(e,n){return b(),y("svg",ln,sn)}const un=E(on,[["render",fn]]),pn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-double-right",viewBox:"0 0 16 16"},an=x("path",{"fill-rule":"evenodd",d:"M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"},null,-1),hn=x("path",{"fill-rule":"evenodd",d:"M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"},null,-1),dn=[an,hn],_n={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-double-left",viewBox:"0 0 16 16"},vn=x("path",{"fill-rule":"evenodd",d:"M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1),gn=x("path",{"fill-rule":"evenodd",d:"M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"},null,-1),kn=[vn,gn],xn=D({__name:"Menu",props:{variant:{}},setup(e){return(n,r)=>n.variant==="open"?(b(),y("svg",pn,dn)):(b(),y("svg",_n,kn))}}),H=()=>{const e=new Promise((c,t)=>{const s=indexedDB.open("mdNotes",1);s.onupgradeneeded=f=>{var p;((p=f.target)==null?void 0:p.result).createObjectStore("mdNotes",{keyPath:"id"})},s.onsuccess=f=>{c(f.target.result)},s.onerror=f=>{t(f.target.error)}});return{getNotes:async()=>{const s=(await e).transaction("mdNotes","readonly").objectStore("mdNotes");return new Promise((f,u)=>{const p=s.getAll();p.onsuccess=a=>{const h=a.target.result;(()=>{h.length&&h.sort((_,g)=>new Date(g.updated).getTime()-new Date(_.updated).getTime()),f(h)})()},p.onerror=a=>{u(a.target.error)}})},getNote:async c=>{const f=(await e).transaction("mdNotes","readonly").objectStore("mdNotes");return new Promise((u,p)=>{const a=f.get(c);a.onsuccess=h=>{u(h.target.result)},a.onerror=h=>{p(h.target.error)}})},saveNote:async c=>{const f=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((u,p)=>{const a=f.put(c);a.onsuccess=()=>{u()},a.onerror=h=>{p(h.target.error)}})},addNote:async c=>{const f=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((u,p)=>{const a=f.add(c);a.onsuccess=()=>{u()},a.onerror=h=>{p(h.target.error)}})},deleteNote:async c=>{const f=(await e).transaction("mdNotes","readwrite").objectStore("mdNotes");return new Promise((u,p)=>{const a=f.delete(c);a.onsuccess=()=>{u()},a.onerror=h=>{p(h.target.error)}})}}},Ie=(e,n="onlyTime")=>{const r=new Date(e),i={hour:"2-digit",minute:"2-digit"};n==="fullDate"&&(i.second="2-digit");const o=r.toLocaleTimeString([],i);if(n==="onlyTime")return`${o}`;if(n==="fullDate"){const l=r.toLocaleString("default",{year:"numeric"}),c=r.toLocaleString("default",{month:"2-digit"}),t=r.toLocaleString("default",{day:"2-digit"});return`${l}/${c}/${t} ${o}`}},se=(e,n)=>e.length<=n?e:e.substring(0,n)+"...",mn=e=>{var l,c;const n=/#\s+(.+)/g,r=[];let i;for(;(i=n.exec(e))!==null;)r.push(i[1]);return((l=e[0])==null?void 0:l.trim().includes("#"))?se(r[0],20).trim():(c=se(e,20))==null?void 0:c.trim()};var T=(e=>(e.toggleDeleteModal="toggle-delete-modal",e.toggleMenu="toggle-menu",e.addNewNote="add-new-note",e.newNote="New Note",e))(T||{});const S=Fe("store",()=>{const e=M(T.newNote),n=M(""),r=M(""),i=M(!1),o=M([]),l=M(""),c=M(""),t=v=>{const _=o.value.find(g=>g.id===v);_&&(l.value=_.id,e.value=_.title,n.value=_.content,c.value=_.updated)},s=async v=>{await je({path:"/",query:v?{note:v}:{}})},f=async()=>{const{getNotes:v}=H();o.value=await v()},u=async()=>{const{saveNote:v,getNotes:_}=H(),g=o.value.find(N=>N.id===h()),m={id:"",title:mn(n.value)||e.value,content:n.value,created:new Date().toISOString(),updated:new Date().toISOString()};g&&(m.id=g.id,m.created=g.created,await v(m)),o.value=await _()},p=async()=>{const{addNote:v,getNotes:_}=H(),g={id:window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16),title:T.newNote,content:" ",created:new Date().toISOString(),updated:new Date().toISOString()};await v(g),o.value=await _(),t(g.id),await s(g.id)},a=()=>o.value&&o.value.length>0,h=()=>He().query.note;return{rawText:n,parsedText:r,noteTitle:e,isPreviewActive:i,currentNoteId:l,currentNoteUpdateDate:c,notes:o,saveNote:u,createNote:p,setCurrentNote:t,navigateCurrentNote:s,getNotesLength:a,getQueryId:h,initStoreNotes:f}}),bn=()=>Ve().$device,yn=e=>(pe("data-v-508d6ffc"),e=e(),ae(),e),Cn={class:"d-flex"},An={class:"up d-flex align-items-start flex-column"},wn={class:"d-flex gap-4"},Mn={key:0,class:"notes__list d-flex flex-column"},Sn=["onClick"],En={class:"notes__list-note-info d-flex flex-column gap-3"},In={class:"notes__list-note-info-name weight-500 text-overflow-ellipsis"},Nn={class:"d-flex"},Tn={class:"notes__list-note-info-date weight-400 text-overflow-ellipsis"},$n={class:"notes__list-note-info-date weight-300 text-overflow-ellipsis"},Dn={key:0,class:"d-flex emty"},zn=yn(()=>x("span",null,"No notes",-1)),Rn=[zn],Pn=D({__name:"SidebarComponent",setup(e,{emit:n}){const{getNotesLength:r,getQueryId:i}=S(),{isMobile:o}=bn(),{setCurrentNote:l,navigateCurrentNote:c,createNote:t}=S(),{notes:s,rawText:f}=q(S()),u=()=>{if(f.value)return n(T.toggleDeleteModal,!0)},p=async()=>(await t(),n(T.addNewNote,!1)),a=M(!0),h=v=>a.value=v;return a.value=!o,(v,_)=>{const g=rn,m=un,N=xn;return b(),y("div",Cn,[x("div",{class:J(["sidebar d-flex align-items-start flex-column transition",{hidden:!k(a),open:k(a)}])},[x("div",An,[x("div",wn,[F(g,{class:"cursor-pointer",onClick:_[0]||(_[0]=A=>p())}),k(i)()&&k(r)()?(b(),V(m,{key:0,class:"cursor-pointer",onClick:u})):O("",!0)]),k(r)()?(b(),y("ul",Mn,[(b(!0),y(Ee,null,Ue(k(s),A=>(b(),y("li",{key:A.id,class:J([k(i)()===A.id?"active":"","notes__list-note d-flex align-items-center gap-6"]),onClick:G=>{k(l)(A.id),k(c)(A.id)}},[x("div",En,[x("span",In,j(A.title),1),x("div",Nn,[x("span",Tn,j(("formatDate"in v?v.formatDate:k(Ie))(A.updated))+" Â  ",1),x("span",$n,j(("truncateText"in v?v.truncateText:k(se))(A.content,20)),1)])])],10,Sn))),128))])):O("",!0)]),k(r)()?O("",!0):(b(),y("div",Dn,Rn))],2),x("button",{class:"menu",onClick:_[1]||(_[1]=A=>h(!k(a)))},[F(N,{variant:k(a)?"close":"open"},null,8,["variant"])])])}}});const Bn=E(Pn,[["__scopeId","data-v-508d6ffc"]]),On={},qn={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-markdown-fill",viewBox:"0 0 16 16"},Fn=x("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm11.5 1a.5.5 0 0 0-.5.5v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-.5-.5zM3.56 7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06V7.01z"},null,-1),jn=[Fn];function Hn(e,n){return b(),y("svg",qn,jn)}const Vn=E(On,[["render",Hn]]),Un={},Zn={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},Gn=x("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"},null,-1),Ln=[Gn];function Qn(e,n){return b(),y("svg",Zn,Ln)}const Kn=E(Un,[["render",Qn]]),Wn=e=>(pe("data-v-04843c33"),e=e(),ae(),e),Yn={class:"w-100 d-flex align-items-center"},Jn={class:"left d-flex align-items-center gap-5"},Xn={class:"header position-sticky d-flex align-items-center weight-500"},er=Wn(()=>x("div",{class:"right d-flex align-items-center gap-9"},null,-1)),nr={key:0,class:"d-flex justify-content-center date"},rr=D({__name:"HeaderComponent",props:{dateState:Boolean},setup(e){const n=e,{currentNoteUpdateDate:r,isPreviewActive:i}=q(S());return(o,l)=>{const c=Vn,t=Kn;return b(),y(Ee,null,[x("header",Yn,[x("div",Jn,[x("div",Xn,[k(i)?(b(),V(c,{key:0,class:"cursor-pointer","is-preview-active":k(i),onClick:l[0]||(l[0]=s=>i.value=!k(i))},null,8,["is-preview-active"])):(b(),V(t,{key:1,class:"cursor-pointer","is-preview-active":k(i),onClick:l[1]||(l[1]=s=>i.value=!k(i))},null,8,["is-preview-active"]))])]),er]),n.dateState&&k(r)?(b(),y("div",nr,j(("formatDate"in o?o.formatDate:k(Ie))(k(r),"fullDate")),1)):O("",!0)],64)}}});const or=E(rr,[["__scopeId","data-v-04843c33"]]),ir={class:"editor d-flex flex-column"},lr=D({__name:"EditorComponent",setup(e){const{saveNote:n,createNote:r,getQueryId:i}=S(),{rawText:o}=q(S()),l=async()=>{i()||await r()},c=M(null);return Ze(()=>{c&&c.value&&c.value.focus()}),(t,s)=>(b(),y("div",ir,[Y(x("textarea",{ref_key:"textarea",ref:c,"onUpdate:modelValue":s[0]||(s[0]=f=>Le(o)?o.value=f:null),class:"editor__area",onInput:s[1]||(s[1]=f=>{k(n)(),l()})},null,544),[[Ge,k(o)]])]))}});const tr=E(lr,[["__scopeId","data-v-4c1d0d23"]]);var Q;function Ne(e){return Q=Q||document.createElement("textarea"),Q.innerHTML="&"+e+";",Q.value}var cr=Object.prototype.hasOwnProperty;function sr(e,n){return e?cr.call(e,n):!1}function Te(e){var n=[].slice.call(arguments,1);return n.forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(i){e[i]=r[i]})}}),e}var fr=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function U(e){return e.indexOf("\\")<0?e:e.replace(fr,"$1")}function $e(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function fe(e){if(e>65535){e-=65536;var n=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(n,r)}return String.fromCharCode(e)}var ur=/&([a-z#][a-z0-9]{1,31});/gi,pr=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function ar(e,n){var r=0,i=Ne(n);return n!==i?i:n.charCodeAt(0)===35&&pr.test(n)&&(r=n[1].toLowerCase()==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10),$e(r))?fe(r):e}function $(e){return e.indexOf("&")<0?e:e.replace(ur,ar)}var hr=/[&<>"]/,dr=/[&<>"]/g,_r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function vr(e){return _r[e]}function C(e){return hr.test(e)?e.replace(dr,vr):e}var d={};d.blockquote_open=function(){return`<blockquote>
`};d.blockquote_close=function(e,n){return"</blockquote>"+z(e,n)};d.code=function(e,n){return e[n].block?"<pre><code>"+C(e[n].content)+"</code></pre>"+z(e,n):"<code>"+C(e[n].content)+"</code>"};d.fence=function(e,n,r,i,o){var l=e[n],c="",t=r.langPrefix,s="",f,u,p;if(l.params){if(f=l.params.split(/\s+/g),u=f.join(" "),sr(o.rules.fence_custom,f[0]))return o.rules.fence_custom[f[0]](e,n,r,i,o);s=C($(U(u))),c=' class="'+t+s+'"'}return r.highlight?p=r.highlight.apply(r.highlight,[l.content].concat(f))||C(l.content):p=C(l.content),"<pre><code"+c+">"+p+"</code></pre>"+z(e,n)};d.fence_custom={};d.heading_open=function(e,n){return"<h"+e[n].hLevel+">"};d.heading_close=function(e,n){return"</h"+e[n].hLevel+`>
`};d.hr=function(e,n,r){return(r.xhtmlOut?"<hr />":"<hr>")+z(e,n)};d.bullet_list_open=function(){return`<ul>
`};d.bullet_list_close=function(e,n){return"</ul>"+z(e,n)};d.list_item_open=function(){return"<li>"};d.list_item_close=function(){return`</li>
`};d.ordered_list_open=function(e,n){var r=e[n],i=r.order>1?' start="'+r.order+'"':"";return"<ol"+i+`>
`};d.ordered_list_close=function(e,n){return"</ol>"+z(e,n)};d.paragraph_open=function(e,n){return e[n].tight?"":"<p>"};d.paragraph_close=function(e,n){var r=!(e[n].tight&&n&&e[n-1].type==="inline"&&!e[n-1].content);return(e[n].tight?"":"</p>")+(r?z(e,n):"")};d.link_open=function(e,n,r){var i=e[n].title?' title="'+C($(e[n].title))+'"':"",o=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+C(e[n].href)+'"'+i+o+">"};d.link_close=function(){return"</a>"};d.image=function(e,n,r){var i=' src="'+C(e[n].src)+'"',o=e[n].title?' title="'+C($(e[n].title))+'"':"",l=' alt="'+(e[n].alt?C($(U(e[n].alt))):"")+'"',c=r.xhtmlOut?" /":"";return"<img"+i+l+o+c+">"};d.table_open=function(){return`<table>
`};d.table_close=function(){return`</table>
`};d.thead_open=function(){return`<thead>
`};d.thead_close=function(){return`</thead>
`};d.tbody_open=function(){return`<tbody>
`};d.tbody_close=function(){return`</tbody>
`};d.tr_open=function(){return"<tr>"};d.tr_close=function(){return`</tr>
`};d.th_open=function(e,n){var r=e[n];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};d.th_close=function(){return"</th>"};d.td_open=function(e,n){var r=e[n];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};d.td_close=function(){return"</td>"};d.strong_open=function(){return"<strong>"};d.strong_close=function(){return"</strong>"};d.em_open=function(){return"<em>"};d.em_close=function(){return"</em>"};d.del_open=function(){return"<del>"};d.del_close=function(){return"</del>"};d.ins_open=function(){return"<ins>"};d.ins_close=function(){return"</ins>"};d.mark_open=function(){return"<mark>"};d.mark_close=function(){return"</mark>"};d.sub=function(e,n){return"<sub>"+C(e[n].content)+"</sub>"};d.sup=function(e,n){return"<sup>"+C(e[n].content)+"</sup>"};d.hardbreak=function(e,n,r){return r.xhtmlOut?`<br />
`:`<br>
`};d.softbreak=function(e,n,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};d.text=function(e,n){return C(e[n].content)};d.htmlblock=function(e,n){return e[n].content};d.htmltag=function(e,n){return e[n].content};d.abbr_open=function(e,n){return'<abbr title="'+C($(e[n].title))+'">'};d.abbr_close=function(){return"</abbr>"};d.footnote_ref=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+i+'">['+r+"]</a></sup>"};d.footnote_block_open=function(e,n,r){var i=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return i+`<section class="footnotes">
<ol class="footnotes-list">
`};d.footnote_block_close=function(){return`</ol>
</section>
`};d.footnote_open=function(e,n){var r=Number(e[n].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};d.footnote_close=function(){return`</li>
`};d.footnote_anchor=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),' <a href="#'+i+'" class="footnote-backref">â©</a>'};d.dl_open=function(){return`<dl>
`};d.dt_open=function(){return"<dt>"};d.dd_open=function(){return"<dd>"};d.dl_close=function(){return`</dl>
`};d.dt_close=function(){return`</dt>
`};d.dd_close=function(){return`</dd>
`};function De(e,n){return++n>=e.length-2?n:e[n].type==="paragraph_open"&&e[n].tight&&e[n+1].type==="inline"&&e[n+1].content.length===0&&e[n+2].type==="paragraph_close"&&e[n+2].tight?De(e,n+2):n}var z=d.getBreak=function(n,r){return r=De(n,r),r<n.length&&n[r].type==="list_item_close"?"":`
`};function he(){this.rules=Te({},d),this.getBreak=d.getBreak}he.prototype.renderInline=function(e,n,r){for(var i=this.rules,o=e.length,l=0,c="";o--;)c+=i[e[l].type](e,l++,n,r,this);return c};he.prototype.render=function(e,n,r){for(var i=this.rules,o=e.length,l=-1,c="";++l<o;)e[l].type==="inline"?c+=this.renderInline(e[l].children,n,r):c+=i[e[l].type](e,l,n,r,this);return c};function w(){this.__rules__=[],this.__cache__=null}w.prototype.__find__=function(e){for(var n=this.__rules__.length,r=-1;n--;)if(this.__rules__[++r].name===e)return r;return-1};w.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(i){n.indexOf(i)<0&&n.push(i)})}),e.__cache__={},n.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(i){i.enabled&&(r&&i.alt.indexOf(r)<0||e.__cache__[r].push(i.fn))})})};w.prototype.at=function(e,n,r){var i=this.__find__(e),o=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=n,this.__rules__[i].alt=o.alt||[],this.__cache__=null};w.prototype.before=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};w.prototype.after=function(e,n,r,i){var o=this.__find__(e),l=i||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:n,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};w.prototype.push=function(e,n,r){var i=r||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};w.prototype.enable=function(e,n){e=Array.isArray(e)?e:[e],n&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var i=this.__find__(r);if(i<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[i].enabled=!0},this),this.__cache__=null};w.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(n){var r=this.__find__(n);if(r<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[r].enabled=!1},this),this.__cache__=null};w.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function gr(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function R(e,n,r,i,o){this.src=e,this.env=i,this.options=r,this.parser=n,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}R.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};R.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};R.prototype.cacheSet=function(e,n){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=n};R.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function Z(e,n){var r,i,o,l=-1,c=e.posMax,t=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=n+1,e.isInLabel=!0,r=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),o===91)r++;else if(o===93&&(r--,r===0)){i=!0;break}e.parser.skipToken(e)}return i?(l=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=t,e.isInLabel=s,l}function kr(e,n,r,i){var o,l,c,t,s,f;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(o=new R(e,n,r,i,[]),l=Z(o,1),l<0||e.charCodeAt(l+1)!==58))return-1;for(t=o.posMax,c=l+2;c<t&&o.src.charCodeAt(c)!==10;c++);return s=e.slice(2,l),f=e.slice(l+2,c).trim(),f.length===0?-1:(i.abbreviations||(i.abbreviations={}),typeof i.abbreviations[":"+s]>"u"&&(i.abbreviations[":"+s]=f),c)}function xr(e){var n=e.tokens,r,i,o,l;if(!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r-1].type==="paragraph_open"&&n[r].type==="inline"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=kr(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function ue(e){var n=$(e);try{n=decodeURI(n)}catch{}return encodeURI(n)}function ze(e,n){var r,i,o,l=n,c=e.posMax;if(e.src.charCodeAt(n)===60){for(n++;n<c;){if(r=e.src.charCodeAt(n),r===10)return!1;if(r===62)return o=ue(U(e.src.slice(l+1,n))),e.parser.validateLink(o)?(e.pos=n+1,e.linkContent=o,!0):!1;if(r===92&&n+1<c){n+=2;continue}n++}return!1}for(i=0;n<c&&(r=e.src.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<c){n+=2;continue}if(r===40&&(i++,i>1)||r===41&&(i--,i<0))break;n++}return l===n||(o=U(e.src.slice(l,n)),!e.parser.validateLink(o))?!1:(e.linkContent=o,e.pos=n,!0)}function Re(e,n){var r,i=n,o=e.posMax,l=e.src.charCodeAt(n);if(l!==34&&l!==39&&l!==40)return!1;for(n++,l===40&&(l=41);n<o;){if(r=e.src.charCodeAt(n),r===l)return e.pos=n+1,e.linkContent=U(e.src.slice(i+1,n)),!0;if(r===92&&n+1<o){n+=2;continue}n++}return!1}function Pe(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function mr(e,n,r,i){var o,l,c,t,s,f,u,p,a;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(o=new R(e,n,r,i,[]),l=Z(o,0),l<0||e.charCodeAt(l+1)!==58))return-1;for(t=o.posMax,c=l+2;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);if(!ze(o,c))return-1;for(u=o.linkContent,c=o.pos,f=c,c=c+1;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);for(c<t&&f!==c&&Re(o,c)?(p=o.linkContent,c=o.pos):(p="",c=f);c<t&&o.src.charCodeAt(c)===32;)c++;return c<t&&o.src.charCodeAt(c)!==10?-1:(a=Pe(e.slice(1,l)),typeof i.references[a]>"u"&&(i.references[a]={title:p,href:u}),c)}function br(e){var n=e.tokens,r,i,o,l;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r].type==="inline"&&n[r-1].type==="paragraph_open"&&n[r+1].type==="paragraph_close"){for(o=n[r].content;o.length&&(l=mr(o,e.inline,e.options,e.env),!(l<0));)o=o.slice(l).trim();n[r].content=o,o.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function yr(e){var n=e.tokens,r,i,o;for(i=0,o=n.length;i<o;i++)r=n[i],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function Cr(e){var n,r,i,o,l,c,t,s,f,u=0,p=!1,a={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(h){return h.type==="footnote_reference_open"?(p=!0,s=[],f=h.label,!1):h.type==="footnote_reference_close"?(p=!1,a[":"+f]=s,!1):(p&&s.push(h),!p)}),!!e.env.footnotes.list)){for(c=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),n=0,r=c.length;n<r;n++){for(e.tokens.push({type:"footnote_open",id:n,level:u++}),c[n].tokens?(t=[],t.push({type:"paragraph_open",tight:!1,level:u++}),t.push({type:"inline",content:"",level:u,children:c[n].tokens}),t.push({type:"paragraph_close",tight:!1,level:--u})):c[n].label&&(t=a[":"+c[n].label]),e.tokens=e.tokens.concat(t),e.tokens[e.tokens.length-1].type==="paragraph_close"?l=e.tokens.pop():l=null,o=c[n].count>0?c[n].count:1,i=0;i<o;i++)e.tokens.push({type:"footnote_anchor",id:n,subId:i,level:u});l&&e.tokens.push(l),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}var xe=` 
()[]'".,!?-`;function ie(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function Ar(e){var n,r,i,o,l,c,t,s,f,u,p,a,h=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(a="(^|["+xe.split("").map(ie).join("")+"])("+Object.keys(e.env.abbreviations).map(function(v){return v.substr(1)}).sort(function(v,_){return _.length-v.length}).map(ie).join("|")+")($|["+xe.split("").map(ie).join("")+"])",e.env.abbrRegExp=new RegExp(a,"g")),u=e.env.abbrRegExp,r=0,i=h.length;r<i;r++)if(h[r].type==="inline"){for(o=h[r].children,n=o.length-1;n>=0;n--)if(l=o[n],l.type==="text"){for(s=0,c=l.content,u.lastIndex=0,f=l.level,t=[];p=u.exec(c);)u.lastIndex>s&&t.push({type:"text",content:c.slice(s,p.index+p[1].length),level:f}),t.push({type:"abbr_open",title:e.env.abbreviations[":"+p[2]],level:f++}),t.push({type:"text",content:p[2],level:f}),t.push({type:"abbr_close",level:--f}),s=u.lastIndex-p[3].length;t.length&&(s<c.length&&t.push({type:"text",content:c.slice(s),level:f}),h[r].children=o=[].concat(o.slice(0,n),t,o.slice(n+1)))}}}}var wr=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Mr=/\((c|tm|r|p)\)/ig,Sr={c:"Â©",r:"Â®",p:"Â§",tm:"â¢"};function Er(e){return e.indexOf("(")<0?e:e.replace(Mr,function(n,r){return Sr[r.toLowerCase()]})}function Ir(e){var n,r,i,o,l;if(e.options.typographer){for(l=e.tokens.length-1;l>=0;l--)if(e.tokens[l].type==="inline")for(o=e.tokens[l].children,n=o.length-1;n>=0;n--)r=o[n],r.type==="text"&&(i=r.content,i=Er(i),wr.test(i)&&(i=i.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1â$2").replace(/(^|\s)--(\s|$)/mg,"$1â$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1â$2")),r.content=i)}}var Nr=/['"]/,me=/['"]/g,Tr=/[-\s()\[\]]/,be="â";function ye(e,n){return n<0||n>=e.length?!1:!Tr.test(e[n])}function B(e,n,r){return e.substr(0,n)+r+e.substr(n+1)}function $r(e){var n,r,i,o,l,c,t,s,f,u,p,a,h,v,_,g,m;if(e.options.typographer){for(m=[],_=e.tokens.length-1;_>=0;_--)if(e.tokens[_].type==="inline"){for(g=e.tokens[_].children,m.length=0,n=0;n<g.length;n++)if(r=g[n],!(r.type!=="text"||Nr.test(r.text))){for(t=g[n].level,h=m.length-1;h>=0&&!(m[h].level<=t);h--);m.length=h+1,i=r.content,l=0,c=i.length;e:for(;l<c&&(me.lastIndex=l,o=me.exec(i),!!o);){if(s=!ye(i,o.index-1),l=o.index+1,v=o[0]==="'",f=!ye(i,l),!f&&!s){v&&(r.content=B(r.content,o.index,be));continue}if(p=!f,a=!s,a){for(h=m.length-1;h>=0&&(u=m[h],!(m[h].level<t));h--)if(u.single===v&&m[h].level===t){u=m[h],v?(g[u.token].content=B(g[u.token].content,u.pos,e.options.quotes[2]),r.content=B(r.content,o.index,e.options.quotes[3])):(g[u.token].content=B(g[u.token].content,u.pos,e.options.quotes[0]),r.content=B(r.content,o.index,e.options.quotes[1])),m.length=h;continue e}}p?m.push({token:n,pos:o.index,single:v,level:t}):a&&v&&(r.content=B(r.content,o.index,be))}}}}}var le=[["block",gr],["abbr",xr],["references",br],["inline",yr],["footnote_tail",Cr],["abbr2",Ar],["replacements",Ir],["smartquotes",$r]];function Be(){this.options={},this.ruler=new w;for(var e=0;e<le.length;e++)this.ruler.push(le[e][0],le[e][1])}Be.prototype.process=function(e){var n,r,i;for(i=this.ruler.getRules(""),n=0,r=i.length;n<r;n++)i[n](e)};function P(e,n,r,i,o){var l,c,t,s,f,u,p;for(this.src=e,this.parser=n,this.options=r,this.env=i,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",c=this.src,u=0,p=!1,t=s=u=0,f=c.length;s<f;s++){if(l=c.charCodeAt(s),!p)if(l===32){u++;continue}else p=!0;(l===10||s===f-1)&&(l!==10&&s++,this.bMarks.push(t),this.eMarks.push(s),this.tShift.push(u),p=!1,u=0,t=s+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}P.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};P.prototype.skipEmptyLines=function(n){for(var r=this.lineMax;n<r&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};P.prototype.skipSpaces=function(n){for(var r=this.src.length;n<r&&this.src.charCodeAt(n)===32;n++);return n};P.prototype.skipChars=function(n,r){for(var i=this.src.length;n<i&&this.src.charCodeAt(n)===r;n++);return n};P.prototype.skipCharsBack=function(n,r,i){if(n<=i)return n;for(;n>i;)if(r!==this.src.charCodeAt(--n))return n+1;return n};P.prototype.getLines=function(n,r,i,o){var l,c,t,s,f,u=n;if(n>=r)return"";if(u+1===r)return c=this.bMarks[u]+Math.min(this.tShift[u],i),t=o?this.eMarks[u]+1:this.eMarks[u],this.src.slice(c,t);for(s=new Array(r-n),l=0;u<r;u++,l++)f=this.tShift[u],f>i&&(f=i),f<0&&(f=0),c=this.bMarks[u]+f,u+1<r||o?t=this.eMarks[u]+1:t=this.eMarks[u],s[l]=this.src.slice(c,t);return s.join("")};function Dr(e,n,r){var i,o;if(e.tShift[n]-e.blkIndent<4)return!1;for(o=i=n+1;i<r;){if(e.isEmpty(i)){i++;continue}if(e.tShift[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=i,e.tokens.push({type:"code",content:e.getLines(n,o,4+e.blkIndent,!0),block:!0,lines:[n,e.line],level:e.level}),!0}function zr(e,n,r,i){var o,l,c,t,s,f=!1,u=e.bMarks[n]+e.tShift[n],p=e.eMarks[n];if(u+3>p||(o=e.src.charCodeAt(u),o!==126&&o!==96)||(s=u,u=e.skipChars(u,o),l=u-s,l<3)||(c=e.src.slice(u,p).trim(),c.indexOf("`")>=0))return!1;if(i)return!0;for(t=n;t++,!(t>=r||(u=s=e.bMarks[t]+e.tShift[t],p=e.eMarks[t],u<p&&e.tShift[t]<e.blkIndent));)if(e.src.charCodeAt(u)===o&&!(e.tShift[t]-e.blkIndent>=4)&&(u=e.skipChars(u,o),!(u-s<l)&&(u=e.skipSpaces(u),!(u<p)))){f=!0;break}return l=e.tShift[n],e.line=t+(f?1:0),e.tokens.push({type:"fence",params:c,content:e.getLines(n+1,t,l,!0),lines:[n,e.line],level:e.level}),!0}function Rr(e,n,r,i){var o,l,c,t,s,f,u,p,a,h,v,_=e.bMarks[n]+e.tShift[n],g=e.eMarks[n];if(_>g||e.src.charCodeAt(_++)!==62||e.level>=e.options.maxNesting)return!1;if(i)return!0;for(e.src.charCodeAt(_)===32&&_++,s=e.blkIndent,e.blkIndent=0,t=[e.bMarks[n]],e.bMarks[n]=_,_=_<g?e.skipSpaces(_):_,l=_>=g,c=[e.tShift[n]],e.tShift[n]=_-e.bMarks[n],p=e.parser.ruler.getRules("blockquote"),o=n+1;o<r&&(_=e.bMarks[o]+e.tShift[o],g=e.eMarks[o],!(_>=g));o++){if(e.src.charCodeAt(_++)===62){e.src.charCodeAt(_)===32&&_++,t.push(e.bMarks[o]),e.bMarks[o]=_,_=_<g?e.skipSpaces(_):_,l=_>=g,c.push(e.tShift[o]),e.tShift[o]=_-e.bMarks[o];continue}if(l)break;for(v=!1,a=0,h=p.length;a<h;a++)if(p[a](e,o,r,!0)){v=!0;break}if(v)break;t.push(e.bMarks[o]),c.push(e.tShift[o]),e.tShift[o]=-1337}for(f=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[n,0],level:e.level++}),e.parser.tokenize(e,n,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=f,u[1]=e.line,a=0;a<c.length;a++)e.bMarks[a+n]=t[a],e.tShift[a+n]=c[a];return e.blkIndent=s,!0}function Pr(e,n,r,i){var o,l,c,t=e.bMarks[n],s=e.eMarks[n];if(t+=e.tShift[n],t>s||(o=e.src.charCodeAt(t++),o!==42&&o!==45&&o!==95))return!1;for(l=1;t<s;){if(c=e.src.charCodeAt(t++),c!==o&&c!==32)return!1;c===o&&l++}return l<3?!1:(i||(e.line=n+1,e.tokens.push({type:"hr",lines:[n,e.line],level:e.level})),!0)}function Ce(e,n){var r,i,o;return i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n],i>=o||(r=e.src.charCodeAt(i++),r!==42&&r!==45&&r!==43)||i<o&&e.src.charCodeAt(i)!==32?-1:i}function Ae(e,n){var r,i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n];if(i+1>=o||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=e.src.charCodeAt(i++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return i<o&&e.src.charCodeAt(i)!==32?-1:i}function Br(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Or(e,n,r,i){var o,l,c,t,s,f,u,p,a,h,v,_,g,m,N,A,G,ve,ge=!0,ne,L,ke,re;if((p=Ae(e,n))>=0)g=!0;else if((p=Ce(e,n))>=0)g=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(_=e.src.charCodeAt(p-1),i)return!0;for(N=e.tokens.length,g?(u=e.bMarks[n]+e.tShift[n],v=Number(e.src.substr(u,p-u-1)),e.tokens.push({type:"ordered_list_open",order:v,lines:G=[n,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:G=[n,0],level:e.level++}),o=n,A=!1,ne=e.parser.ruler.getRules("list");o<r&&(m=e.skipSpaces(p),a=e.eMarks[o],m>=a?h=1:h=m-p,h>4&&(h=1),h<1&&(h=1),l=p-e.bMarks[o]+h,e.tokens.push({type:"list_item_open",lines:ve=[n,0],level:e.level++}),t=e.blkIndent,s=e.tight,c=e.tShift[n],f=e.parentType,e.tShift[n]=m-e.bMarks[n],e.blkIndent=l,e.tight=!0,e.parentType="list",e.parser.tokenize(e,n,r,!0),(!e.tight||A)&&(ge=!1),A=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=t,e.tShift[n]=c,e.tight=s,e.parentType=f,e.tokens.push({type:"list_item_close",level:--e.level}),o=n=e.line,ve[1]=o,m=e.bMarks[n],!(o>=r||e.isEmpty(o)||e.tShift[o]<e.blkIndent));){for(re=!1,L=0,ke=ne.length;L<ke;L++)if(ne[L](e,o,r,!0)){re=!0;break}if(re)break;if(g){if(p=Ae(e,o),p<0)break}else if(p=Ce(e,o),p<0)break;if(_!==e.src.charCodeAt(p-1))break}return e.tokens.push({type:g?"ordered_list_close":"bullet_list_close",level:--e.level}),G[1]=o,e.line=o,ge&&Br(e,N),!0}function qr(e,n,r,i){var o,l,c,t,s,f=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(f+4>u||e.src.charCodeAt(f)!==91||e.src.charCodeAt(f+1)!==94||e.level>=e.options.maxNesting)return!1;for(t=f+2;t<u;t++){if(e.src.charCodeAt(t)===32)return!1;if(e.src.charCodeAt(t)===93)break}return t===f+2||t+1>=u||e.src.charCodeAt(++t)!==58?!1:(i||(t++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(f+2,t-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),o=e.bMarks[n],l=e.tShift[n],c=e.parentType,e.tShift[n]=e.skipSpaces(t)-t,e.bMarks[n]=t,e.blkIndent+=4,e.parentType="footnote",e.tShift[n]<e.blkIndent&&(e.tShift[n]+=e.blkIndent,e.bMarks[n]-=e.blkIndent),e.parser.tokenize(e,n,r,!0),e.parentType=c,e.blkIndent-=4,e.tShift[n]=l,e.bMarks[n]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function Fr(e,n,r,i){var o,l,c,t=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(t>=s||(o=e.src.charCodeAt(t),o!==35||t>=s))return!1;for(l=1,o=e.src.charCodeAt(++t);o===35&&t<s&&l<=6;)l++,o=e.src.charCodeAt(++t);return l>6||t<s&&o!==32?!1:(i||(s=e.skipCharsBack(s,32,t),c=e.skipCharsBack(s,35,t),c>t&&e.src.charCodeAt(c-1)===32&&(s=c),e.line=n+1,e.tokens.push({type:"heading_open",hLevel:l,lines:[n,e.line],level:e.level}),t<s&&e.tokens.push({type:"inline",content:e.src.slice(t,s).trim(),level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:l,level:e.level})),!0)}function jr(e,n,r){var i,o,l,c=n+1;return c>=r||e.tShift[c]<e.blkIndent||e.tShift[c]-e.blkIndent>3||(o=e.bMarks[c]+e.tShift[c],l=e.eMarks[c],o>=l)||(i=e.src.charCodeAt(o),i!==45&&i!==61)||(o=e.skipChars(o,i),o=e.skipSpaces(o),o<l)?!1:(o=e.bMarks[n]+e.tShift[n],e.line=c+1,e.tokens.push({type:"heading_open",hLevel:i===61?1:2,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[n]).trim(),level:e.level+1,lines:[n,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:i===61?1:2,level:e.level}),!0)}var Oe={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){Oe[e]=!0});var Hr=/^<([a-zA-Z]{1,15})[\s\/>]/,Vr=/^<\/([a-zA-Z]{1,15})[\s>]/;function Ur(e){var n=e|32;return n>=97&&n<=122}function Zr(e,n,r,i){var o,l,c,t=e.bMarks[n],s=e.eMarks[n],f=e.tShift[n];if(t+=f,!e.options.html||f>3||t+2>=s||e.src.charCodeAt(t)!==60)return!1;if(o=e.src.charCodeAt(t+1),o===33||o===63){if(i)return!0}else if(o===47||Ur(o)){if(o===47){if(l=e.src.slice(t,s).match(Vr),!l)return!1}else if(l=e.src.slice(t,s).match(Hr),!l)return!1;if(Oe[l[1].toLowerCase()]!==!0)return!1;if(i)return!0}else return!1;for(c=n+1;c<e.lineMax&&!e.isEmpty(c);)c++;return e.line=c,e.tokens.push({type:"htmlblock",level:e.level,lines:[n,e.line],content:e.getLines(n,c,0,!0)}),!0}function te(e,n){var r=e.bMarks[n]+e.blkIndent,i=e.eMarks[n];return e.src.substr(r,i-r)}function Gr(e,n,r,i){var o,l,c,t,s,f,u,p,a,h,v;if(n+2>r||(s=n+1,e.tShift[s]<e.blkIndent)||(c=e.bMarks[s]+e.tShift[s],c>=e.eMarks[s])||(o=e.src.charCodeAt(c),o!==124&&o!==45&&o!==58)||(l=te(e,n+1),!/^[-:| ]+$/.test(l))||(f=l.split("|"),f<=2))return!1;for(p=[],t=0;t<f.length;t++){if(a=f[t].trim(),!a){if(t===0||t===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(a))return!1;a.charCodeAt(a.length-1)===58?p.push(a.charCodeAt(0)===58?"center":"right"):a.charCodeAt(0)===58?p.push("left"):p.push("")}if(l=te(e,n).trim(),l.indexOf("|")===-1||(f=l.replace(/^\||\|$/g,"").split("|"),p.length!==f.length))return!1;if(i)return!0;for(e.tokens.push({type:"table_open",lines:h=[n,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[n,n+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[n,n+1],level:e.level++}),t=0;t<f.length;t++)e.tokens.push({type:"th_open",align:p[t],lines:[n,n+1],level:e.level++}),e.tokens.push({type:"inline",content:f[t].trim(),lines:[n,n+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:v=[n+2,0],level:e.level++}),s=n+2;s<r&&!(e.tShift[s]<e.blkIndent||(l=te(e,s).trim(),l.indexOf("|")===-1));s++){for(f=l.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),t=0;t<f.length;t++)e.tokens.push({type:"td_open",align:p[t],level:e.level++}),u=f[t].substring(f[t].charCodeAt(0)===124?1:0,f[t].charCodeAt(f[t].length-1)===124?f[t].length-1:f[t].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),h[1]=v[1]=s,e.line=s,!0}function K(e,n){var r,i,o=e.bMarks[n]+e.tShift[n],l=e.eMarks[n];return o>=l||(i=e.src.charCodeAt(o++),i!==126&&i!==58)||(r=e.skipSpaces(o),o===r)||r>=l?-1:r}function Lr(e,n){var r,i,o=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===o&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Qr(e,n,r,i){var o,l,c,t,s,f,u,p,a,h,v,_,g,m;if(i)return e.ddIndent<0?!1:K(e,n)>=0;if(u=n+1,e.isEmpty(u)&&++u>r||e.tShift[u]<e.blkIndent||(o=K(e,u),o<0)||e.level>=e.options.maxNesting)return!1;f=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[n,0],level:e.level++}),c=n,l=u;e:for(;;){for(m=!0,g=!1,e.tokens.push({type:"dt_open",lines:[c,c],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(c,c+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[c,c],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:t=[u,0],level:e.level++}),_=e.tight,a=e.ddIndent,p=e.blkIndent,v=e.tShift[l],h=e.parentType,e.blkIndent=e.ddIndent=e.tShift[l]+2,e.tShift[l]=o-e.bMarks[l],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,l,r,!0),(!e.tight||g)&&(m=!1),g=e.line-l>1&&e.isEmpty(e.line-1),e.tShift[l]=v,e.tight=_,e.parentType=h,e.blkIndent=p,e.ddIndent=a,e.tokens.push({type:"dd_close",level:--e.level}),t[1]=u=e.line,u>=r||e.tShift[u]<e.blkIndent)break e;if(o=K(e,u),o<0)break;l=u}if(u>=r||(c=u,e.isEmpty(c))||e.tShift[c]<e.blkIndent||(l=c+1,l>=r)||(e.isEmpty(l)&&l++,l>=r)||e.tShift[l]<e.blkIndent||(o=K(e,l),o<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=u,e.line=u,m&&Lr(e,f),!0}function Kr(e,n){var r,i,o,l,c,t=n+1,s;if(r=e.lineMax,t<r&&!e.isEmpty(t)){for(s=e.parser.ruler.getRules("paragraph");t<r&&!e.isEmpty(t);t++)if(!(e.tShift[t]-e.blkIndent>3)){for(o=!1,l=0,c=s.length;l<c;l++)if(s[l](e,t,r,!0)){o=!0;break}if(o)break}}return i=e.getLines(n,t,e.blkIndent,!1).trim(),e.line=t,i.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:i,level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var W=[["code",Dr],["fences",zr,["paragraph","blockquote","list"]],["blockquote",Rr,["paragraph","blockquote","list"]],["hr",Pr,["paragraph","blockquote","list"]],["list",Or,["paragraph","blockquote"]],["footnote",qr,["paragraph"]],["heading",Fr,["paragraph","blockquote"]],["lheading",jr],["htmlblock",Zr,["paragraph","blockquote"]],["table",Gr,["paragraph"]],["deflist",Qr,["paragraph"]],["paragraph",Kr]];function de(){this.ruler=new w;for(var e=0;e<W.length;e++)this.ruler.push(W[e][0],W[e][1],{alt:(W[e][2]||[]).slice()})}de.prototype.tokenize=function(e,n,r){for(var i=this.ruler.getRules(""),o=i.length,l=n,c=!1,t,s;l<r&&(e.line=l=e.skipEmptyLines(l),!(l>=r||e.tShift[l]<e.blkIndent));){for(s=0;s<o&&(t=i[s](e,l,r,!1),!t);s++);if(e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),l=e.line,l<r&&e.isEmpty(l)){if(c=!0,l++,l<r&&e.parentType==="list"&&e.isEmpty(l))break;e.line=l}}};var Wr=/[\n\t]/g,Yr=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,Jr=/\u00a0/g;de.prototype.parse=function(e,n,r,i){var o,l=0,c=0;if(!e)return[];e=e.replace(Jr," "),e=e.replace(Yr,`
`),e.indexOf("	")>=0&&(e=e.replace(Wr,function(t,s){var f;return e.charCodeAt(s)===10?(l=s+1,c=0,t):(f="    ".slice((s-l-c)%4),c=s-l+1,f)})),o=new P(e,this,n,r,i),this.tokenize(o,o.line,o.lineMax)};function Xr(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function eo(e,n){for(var r=e.pos;r<e.posMax&&!Xr(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function no(e,n){var r,i,o=e.pos;if(e.src.charCodeAt(o)!==10)return!1;if(r=e.pending.length-1,i=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var l=r-2;l>=0;l--)if(e.pending.charCodeAt(l)!==32){e.pending=e.pending.substring(0,l+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<i&&e.src.charCodeAt(o)===32;)o++;return e.pos=o,!0}var _e=[];for(var we=0;we<256;we++)_e.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){_e[e.charCodeAt(0)]=1});function ro(e,n){var r,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(r=e.src.charCodeAt(i),r<256&&_e[r]!==0)return n||(e.pending+=e.src[i]),e.pos+=2,!0;if(r===10){for(n||e.push({type:"hardbreak",level:e.level}),i++;i<o&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}}return n||(e.pending+="\\"),e.pos++,!0}function oo(e,n){var r,i,o,l,c,t=e.pos,s=e.src.charCodeAt(t);if(s!==96)return!1;for(r=t,t++,i=e.posMax;t<i&&e.src.charCodeAt(t)===96;)t++;for(o=e.src.slice(r,t),l=c=t;(l=e.src.indexOf("`",c))!==-1;){for(c=l+1;c<i&&e.src.charCodeAt(c)===96;)c++;if(c-l===o.length)return n||e.push({type:"code",content:e.src.slice(t,l).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=c,!0}return n||(e.pending+=o),e.pos+=o.length,!0}function io(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==126||n||c+4>=l||e.src.charCodeAt(c+1)!==126||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===126)||s===126||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===126;)i++;if(i>c+3)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==126&&t!==126&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function lo(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==43||n||c+4>=l||e.src.charCodeAt(c+1)!==43||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===43)||s===43||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===43;)i++;if(i!==c+2)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==43&&t!==43&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function to(e,n){var r,i,o,l=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==61||n||c+4>=l||e.src.charCodeAt(c+1)!==61||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===61)||s===61||s===32||s===10)return!1;for(i=c+2;i<l&&e.src.charCodeAt(i)===61;)i++;if(i!==c+2)return e.pos+=i-c,n||(e.pending+=e.src.slice(c,i)),!0;for(e.pos=c+2,o=1;e.pos+1<l;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<l?e.src.charCodeAt(e.pos+2):-1,s!==61&&t!==61&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=c+2,n||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=c,!1)}function Me(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Se(e,n){var r=n,i,o,l,c=!0,t=!0,s=e.posMax,f=e.src.charCodeAt(n);for(i=n>0?e.src.charCodeAt(n-1):-1;r<s&&e.src.charCodeAt(r)===f;)r++;return r>=s&&(c=!1),l=r-n,l>=4?c=t=!1:(o=r<s?e.src.charCodeAt(r):-1,(o===32||o===10)&&(c=!1),(i===32||i===10)&&(t=!1),f===95&&(Me(i)&&(c=!1),Me(o)&&(t=!1))),{can_open:c,can_close:t,delims:l}}function co(e,n){var r,i,o,l,c,t,s,f=e.posMax,u=e.pos,p=e.src.charCodeAt(u);if(p!==95&&p!==42||n)return!1;if(s=Se(e,u),r=s.delims,!s.can_open)return e.pos+=r,n||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+r,t=[r];e.pos<f;){if(e.src.charCodeAt(e.pos)===p){if(s=Se(e,e.pos),i=s.delims,s.can_close){for(l=t.pop(),c=i;l!==c;){if(c<l){t.push(l-c);break}if(c-=l,t.length===0)break;e.pos+=l,l=t.pop()}if(t.length===0){r=l,o=!0;break}e.pos+=i;continue}s.can_open&&t.push(i),e.pos+=i;continue}e.parser.skipToken(e)}return o?(e.posMax=e.pos,e.pos=u+r,n||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=f,!0):(e.pos=u,!1)}var so=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function fo(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==126||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sub",level:e.level,content:i.replace(so,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}var uo=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function po(e,n){var r,i,o=e.posMax,l=e.pos;if(e.src.charCodeAt(l)!==94||n||l+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=l+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||l+1===e.pos||(i=e.src.slice(l+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=l,!1):(e.posMax=e.pos,e.pos=l+1,n||e.push({type:"sup",level:e.level,content:i.replace(uo,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}function ao(e,n){var r,i,o,l,c,t,s,f,u=!1,p=e.pos,a=e.posMax,h=e.pos,v=e.src.charCodeAt(h);if(v===33&&(u=!0,v=e.src.charCodeAt(++h)),v!==91||e.level>=e.options.maxNesting||(r=h+1,i=Z(e,h),i<0))return!1;if(t=i+1,t<a&&e.src.charCodeAt(t)===40){for(t++;t<a&&(f=e.src.charCodeAt(t),!(f!==32&&f!==10));t++);if(t>=a)return!1;for(h=t,ze(e,t)?(l=e.linkContent,t=e.pos):l="",h=t;t<a&&(f=e.src.charCodeAt(t),!(f!==32&&f!==10));t++);if(t<a&&h!==t&&Re(e,t))for(c=e.linkContent,t=e.pos;t<a&&(f=e.src.charCodeAt(t),!(f!==32&&f!==10));t++);else c="";if(t>=a||e.src.charCodeAt(t)!==41)return e.pos=p,!1;t++}else{if(e.linkLevel>0)return!1;for(;t<a&&(f=e.src.charCodeAt(t),!(f!==32&&f!==10));t++);if(t<a&&e.src.charCodeAt(t)===91&&(h=t+1,t=Z(e,t),t>=0?o=e.src.slice(h,t++):t=h-1),o||(typeof o>"u"&&(t=i+1),o=e.src.slice(r,i)),s=e.env.references[Pe(o)],!s)return e.pos=p,!1;l=s.href,c=s.title}return n||(e.pos=r,e.posMax=i,u?e.push({type:"image",src:l,title:c,alt:e.src.substr(r,i-r),level:e.level}):(e.push({type:"link_open",href:l,title:c,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=t,e.posMax=a,!0}function ho(e,n){var r,i,o,l,c=e.posMax,t=e.pos;return t+2>=c||e.src.charCodeAt(t)!==94||e.src.charCodeAt(t+1)!==91||e.level>=e.options.maxNesting||(r=t+2,i=Z(e,t+1),i<0)?!1:(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=r,e.posMax=i,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,l=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(l)},e.linkLevel--),e.pos=i+1,e.posMax=c,!0)}function _o(e,n){var r,i,o,l,c=e.posMax,t=e.pos;if(t+3>c||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(t)!==91||e.src.charCodeAt(t+1)!==94||e.level>=e.options.maxNesting)return!1;for(i=t+2;i<c;i++){if(e.src.charCodeAt(i)===32||e.src.charCodeAt(i)===10)return!1;if(e.src.charCodeAt(i)===93)break}return i===t+2||i>=c||(i++,r=e.src.slice(t+2,i-1),typeof e.env.footnotes.refs[":"+r]>"u")?!1:(n||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:r,count:0},e.env.footnotes.refs[":"+r]=o):o=e.env.footnotes.refs[":"+r],l=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:l,level:e.level})),e.pos=i,e.posMax=c,!0)}var vo=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],go=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,ko=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function xo(e,n){var r,i,o,l,c,t=e.pos;return e.src.charCodeAt(t)!==60||(r=e.src.slice(t),r.indexOf(">")<0)?!1:(i=r.match(ko),i?vo.indexOf(i[1].toLowerCase())<0||(l=i[0].slice(1,-1),c=ue(l),!e.parser.validateLink(l))?!1:(n||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):(o=r.match(go),o?(l=o[0].slice(1,-1),c=ue("mailto:"+l),e.parser.validateLink(c)?(n||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:l,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0):!1):!1))}function X(e,n){return e=e.source,n=n||"",function r(i,o){return i?(o=o.source||o,e=e.replace(i,o),r):new RegExp(e,n)}}var mo=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,bo=/[^"'=<>`\x00-\x20]+/,yo=/'[^']*'/,Co=/"[^"]*"/,Ao=X(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",bo)("single_quoted",yo)("double_quoted",Co)(),wo=X(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",mo)("attr_value",Ao)(),Mo=X(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",wo)(),So=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,Eo=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Io=/<[?].*?[?]>/,No=/<![A-Z]+\s+[^>]*>/,To=/<!\[CDATA\[[\s\S]*?\]\]>/,$o=X(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",Mo)("close_tag",So)("comment",Eo)("processing",Io)("declaration",No)("cdata",To)();function Do(e){var n=e|32;return n>=97&&n<=122}function zo(e,n){var r,i,o,l=e.pos;return!e.options.html||(o=e.posMax,e.src.charCodeAt(l)!==60||l+2>=o)||(r=e.src.charCodeAt(l+1),r!==33&&r!==63&&r!==47&&!Do(r))||(i=e.src.slice(l).match($o),!i)?!1:(n||e.push({type:"htmltag",content:e.src.slice(l,l+i[0].length),level:e.level}),e.pos+=i[0].length,!0)}var Ro=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Po=/^&([a-z][a-z0-9]{1,31});/i;function Bo(e,n){var r,i,o,l=e.pos,c=e.posMax;if(e.src.charCodeAt(l)!==38)return!1;if(l+1<c){if(r=e.src.charCodeAt(l+1),r===35){if(o=e.src.slice(l).match(Ro),o)return n||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=$e(i)?fe(i):fe(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(l).match(Po),o){var t=Ne(o[1]);if(o[1]!==t)return n||(e.pending+=t),e.pos+=o[0].length,!0}}return n||(e.pending+="&"),e.pos++,!0}var ce=[["text",eo],["newline",no],["escape",ro],["backticks",oo],["del",io],["ins",lo],["mark",to],["emphasis",co],["sub",fo],["sup",po],["links",ao],["footnote_inline",ho],["footnote_ref",_o],["autolink",xo],["htmltag",zo],["entity",Bo]];function ee(){this.ruler=new w;for(var e=0;e<ce.length;e++)this.ruler.push(ce[e][0],ce[e][1]);this.validateLink=Oo}ee.prototype.skipToken=function(e){var n=this.ruler.getRules(""),r=n.length,i=e.pos,o,l;if((l=e.cacheGet(i))>0){e.pos=l;return}for(o=0;o<r;o++)if(n[o](e,!0)){e.cacheSet(i,e.pos);return}e.pos++,e.cacheSet(i,e.pos)};ee.prototype.tokenize=function(e){for(var n=this.ruler.getRules(""),r=n.length,i=e.posMax,o,l;e.pos<i;){for(l=0;l<r&&(o=n[l](e,!1),!o);l++);if(o){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ee.prototype.parse=function(e,n,r,i){var o=new R(e,this,n,r,i);this.tokenize(o)};function Oo(e){var n=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=$(r),!(r.indexOf(":")!==-1&&n.indexOf(r.split(":")[0])!==-1)}var qo={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},Fo={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},jo={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},Ho={default:qo,full:Fo,commonmark:jo};function qe(e,n,r){this.src=n,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function I(e,n){typeof e!="string"&&(n=e,e="default"),n&&n.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new ee,this.block=new de,this.core=new Be,this.renderer=new he,this.ruler=new w,this.options={},this.configure(Ho[e]),this.set(n||{})}I.prototype.set=function(e){Te(this.options,e)};I.prototype.configure=function(e){var n=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&n[r].ruler.enable(e.components[r].rules,!0)})};I.prototype.use=function(e,n){return e(this,n),this};I.prototype.parse=function(e,n){var r=new qe(this,e,n);return this.core.process(r),r.tokens};I.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)};I.prototype.parseInline=function(e,n){var r=new qe(this,e,n);return r.inlineMode=!0,this.core.process(r),r.tokens};I.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)};const Vo={class:"preview d-flex flex-column"},Uo=["innerHTML"],Zo=D({__name:"PreviewComponent",setup(e){const{rawText:n,parsedText:r,isPreviewActive:i}=q(S()),o=new I({html:!0,breaks:!0,linkify:!0,typographer:!0}),l=c=>o.render(c);return Qe(()=>{r.value=l(n.value)}),(c,t)=>(b(),y("div",Vo,[x("div",{class:J(["preview__area",{active:k(i)}]),innerHTML:k(r)},null,10,Uo)]))}});const Go=E(Zo,[["__scopeId","data-v-81206637"]]),Lo=e=>(pe("data-v-946a8945"),e=e(),ae(),e),Qo={class:"delete__modal d-flex flex-column w-100 h-100 position-absolute"},Ko=Lo(()=>x("h4",{class:"weight-700"}," Delete this note? ",-1)),Wo={class:"weight-400"},Yo=D({__name:"DeleteModalComponent",setup(e,{emit:n}){const{noteTitle:r,rawText:i,notes:o,currentNoteId:l}=q(S()),{navigateCurrentNote:c}=S(),t=f=>n(T.toggleDeleteModal,f),s=async()=>{const{deleteNote:f,getNotes:u}=H();await f(l.value),o.value=await u(),r.value=T.newNote,i.value="",t(!1),await c("")};return(f,u)=>(b(),y("div",null,[x("div",Qo,[Ko,x("p",Wo," Are you sure you want to delete the â"+j(k(r))+"â note and its contents? This action cannot be reversed. ",1),x("button",{class:"w-100 weight-400",onClick:s}," Confirm & Delete ")]),x("div",{class:"modal-overlay",onClick:u[0]||(u[0]=p=>t(!1))})]))}});const Jo=E(Yo,[["__scopeId","data-v-946a8945"]]),Xo={class:"home d-flex"},ei={class:"home__container"},ni=D({__name:"index",setup(e){const{getQueryId:n,getNotesLength:r,navigateCurrentNote:i,initStoreNotes:o,setCurrentNote:l}=S();We({title:"MacOS Note App",meta:[{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"},{name:"description",content:"Home page of MacOS Note App"}]});const c=M(!1),t=p=>c.value=p,s=p=>f.value=p,{isPreviewActive:f}=q(S()),u=M(!0);return Ke(async()=>{const{getNotes:p}=H();(await p()).length?(await o(),l(n())):await i("")}),(p,a)=>{const h=Bn,v=or,_=tr,g=Go,m=Jo;return b(),y("div",Xo,[Y(F(h,{onAddNewNote:s,onToggleDeleteModal:a[0]||(a[0]=N=>t(!0))},null,512),[[oe,k(u)]]),x("div",ei,[x("div",{class:J(["home__container-main d-flex flex-column",{main:!k(f)}])},[k(n)()&&k(r)()?(b(),V(v,{key:0,"date-state":!k(f)},null,8,["date-state"])):O("",!0),Y(F(_,null,null,512),[[oe,!k(f)]]),Y(F(g,null,null,512),[[oe,k(f)]])],2)]),k(c)?(b(),V(m,{key:0,onToggleDeleteModal:t})):O("",!0)])}}});const ii=E(ni,[["__scopeId","data-v-534ace53"]]);export{ii as default};
